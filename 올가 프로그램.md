# ì˜¬ê°€ ë¯¸ìˆ˜ë“± ì‹œìŠ¤í…œ - ì™„ì „ ê¸°ëŠ¥ ëª…ì„¸ì„œ v1.0

## ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì‚¬ìš©ì ì—­í•  ë° ê¶Œí•œ](#2-ì‚¬ìš©ì-ì—­í• -ë°-ê¶Œí•œ)
3. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#3-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
4. [API ì—”ë“œí¬ì¸íŠ¸ ëª…ì„¸](#4-api-ì—”ë“œí¬ì¸íŠ¸-ëª…ì„¸)
5. [ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸](#5-ì£¼ìš”-ê¸°ëŠ¥-ìƒì„¸)
6. [UI/UX í”Œë¡œìš°](#6-uiux-í”Œë¡œìš°)
7. [AI ë³´ê³ ì„œ ìƒì„± ì‹œìŠ¤í…œ](#7-ai-ë³´ê³ ì„œ-ìƒì„±-ì‹œìŠ¤í…œ)
8. [Excel ì—…ë¡œë“œ ì‹œìŠ¤í…œ](#8-excel-ì—…ë¡œë“œ-ì‹œìŠ¤í…œ)
9. [ë³´ì•ˆ ë° ì¸ì¦](#9-ë³´ì•ˆ-ë°-ì¸ì¦)
10. [ê¸°ìˆ  ìŠ¤íƒ](#10-ê¸°ìˆ -ìŠ¤íƒ)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ ëª©ì 
**ì˜¬ê°€ ë¯¸ìˆ˜ë“±**(OLGA Academy Management System)ì€ í•œêµ­ ëŒ€í•™ì…ì‹œ ì¤€ë¹„ í•™ì› í”„ëœì°¨ì´ì¦ˆë¥¼ ìœ„í•œ ì¢…í•© ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ë³¸ ì‹œìŠ¤í…œì€ ë‹¤ìŒ í•µì‹¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

- ğŸ“Š **ì‹œí—˜ ê´€ë¦¬**: Excel ê¸°ë°˜ ì‹œí—˜ ì—…ë¡œë“œ ë° ë¬¸ì œ ì€í–‰ ê´€ë¦¬
- ğŸ¢ **ì§€ì  ê´€ë¦¬**: ë‹¤ì¤‘ ì§€ì  ìš´ì˜ ë° ì§€ì ë³„ ë°ì´í„° ê²©ë¦¬
- ğŸ“ **ì‹œí—˜ ë°°í¬**: ì§€ì /ë°˜ë³„ ì‹œí—˜ ë°°í¬ ë° ì‘ì‹œ ê¸°ê°„ ê´€ë¦¬
- ğŸ‘¨â€ğŸ“ **í•™ìƒ ê´€ë¦¬**: í•™ìƒ ë“±ë¡, ì„±ì  ì¶”ì , í•™ë¶€ëª¨ ì—°ë™
- ğŸ¤– **AI ë¶„ì„**: Google Gemini APIë¥¼ í™œìš©í•œ ê°œì¸í™”ëœ ì„±ì  ë¶„ì„ ë³´ê³ ì„œ
- ğŸ“± **ëª¨ë°”ì¼ ìµœì í™”**: ë°˜ì‘í˜• ë””ìì¸ìœ¼ë¡œ ëª¨ë“  ë””ë°”ì´ìŠ¤ ì§€ì›

### 1.2 í•µì‹¬ íŠ¹ì§•
- **4ë‹¨ê³„ ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´**: ê´€ë¦¬ì, ì§€ì  ê´€ë¦¬ì, í•™ìƒ, í•™ë¶€ëª¨
- **ì‹¤ì‹œê°„ ì„±ì  ë¶„ì„**: ìë™ ì±„ì  ë° ë“±ê¸‰ ì‚°ì¶œ
- **AI ê¸°ë°˜ ë§ì¶¤ í•™ìŠµ ì œì•ˆ**: í•™ìƒë³„ ì·¨ì•½ì  ë¶„ì„ ë° í•™ìŠµ ì „ëµ ì œê³µ
- **í”„ëœì°¨ì´ì¦ˆ í†µí•© ëŒ€ì‹œë³´ë“œ**: ì „ì²´ ì§€ì  ì‹¤ì‹œê°„ ì„±ê³¼ ëª¨ë‹ˆí„°ë§
- **ë³´ì•ˆ ê°•í™”**: XSS ë°©ì–´, ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦, ì—­í• ë³„ ë°ì´í„° ê²©ë¦¬

### 1.3 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      í”„ë¡ íŠ¸ì—”ë“œ                          â”‚
â”‚  React 18 + TypeScript + Wouter + TanStack Query        â”‚
â”‚  Shadcn/ui + Tailwind CSS + Chart.js                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ë°±ì—”ë“œ                              â”‚
â”‚  Node.js + Express + TypeScript                         â”‚
â”‚  Session Management + bcrypt Authentication             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚             â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  PostgreSQL    â”‚  â”‚  Gemini API   â”‚
        â”‚  (Neon DB)     â”‚  â”‚  (AI ë¶„ì„)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì‚¬ìš©ì ì—­í•  ë° ê¶Œí•œ

### 2.1 ì—­í•  ì •ì˜

#### 2.1.1 ê´€ë¦¬ì (Admin)
**ê¶Œí•œ:**
- âœ… ì „ì²´ ì‹œìŠ¤í…œ ì ‘ê·¼ ê¶Œí•œ
- âœ… ëª¨ë“  ì§€ì  ë°ì´í„° ì¡°íšŒ ë° ê´€ë¦¬
- âœ… ì§€ì  ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- âœ… ì‹œí—˜ ìƒì„±/ìˆ˜ì •/ì‚­ì œ (ìˆ˜ë™ ì…ë ¥ ë˜ëŠ” Excel ì—…ë¡œë“œ)
- âœ… ì‹œí—˜ ë°°í¬ (ë‹¤ì¤‘ ì§€ì  ë™ì‹œ ë°°í¬ ê°€ëŠ¥)
- âœ… ì „ì²´ í†µê³„ ë° ë¶„ì„ ëŒ€ì‹œë³´ë“œ
- âœ… ì§€ì  ê´€ë¦¬ì ê³„ì • ìƒì„±
- âœ… ì§€ì  ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸ (Impersonation)

**ì œí•œ:**
- âŒ í•™ìƒ/í•™ë¶€ëª¨ ì§ì ‘ ê´€ë¦¬ (ì§€ì  ê´€ë¦¬ì ê¶Œí•œ)

**ë¡œê·¸ì¸ ì •ë³´:**
- Username: `allga`
- Password: `allga`
- ì—­í•  ì½”ë“œ: `admin`

#### 2.1.2 ì§€ì  ê´€ë¦¬ì (Branch Manager)
**ê¶Œí•œ:**
- âœ… ì†Œì† ì§€ì  ë°ì´í„° ì „ì²´ ì ‘ê·¼
- âœ… í•™ìƒ ê³„ì • ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- âœ… í•™ë¶€ëª¨ ê³„ì • ìƒì„±
- âœ… ë°˜ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- âœ… í•™ìƒ-ë°˜ ë°°ì • ê´€ë¦¬
- âœ… ì‹œí—˜ ë°°í¬ (ë³¸ì¸ ì§€ì ë§Œ)
- âœ… ì§€ì  ì„±ì  í†µê³„ ë° ë¶„ì„
- âœ… í•™ìƒ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- âœ… í•™ìƒ/í•™ë¶€ëª¨ë¡œ ë¡œê·¸ì¸ (Impersonation)

**ì œí•œ:**
- âŒ ë‹¤ë¥¸ ì§€ì  ë°ì´í„° ì ‘ê·¼
- âŒ ì‹œí—˜ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- âŒ ì§€ì  ì •ë³´ ìˆ˜ì •

**ì˜ˆì‹œ ê³„ì •:**
- Username: `allga1` (ê°•ë‚¨ì )
- Password: `allga1`
- ì—­í•  ì½”ë“œ: `branch`

#### 2.1.3 í•™ìƒ (Student)
**ê¶Œí•œ:**
- âœ… ë°°í¬ëœ ì‹œí—˜ ëª©ë¡ ì¡°íšŒ
- âœ… ì‹œí—˜ ì‘ì‹œ (ì‹œì‘/ì¤‘ì§€/ì œì¶œ)
- âœ… ë³¸ì¸ ì„±ì  ë° ë¶„ì„ ë³´ê³ ì„œ ì¡°íšŒ
- âœ… AI ìƒì„± í•™ìŠµ ë¶„ì„ ë³´ê³ ì„œ ì¡°íšŒ

**ì œí•œ:**
- âŒ ë‹¤ë¥¸ í•™ìƒ ì •ë³´ ì ‘ê·¼
- âŒ ì‹œí—˜ ë¬¸ì œ ì •ë‹µ ì¡°íšŒ (ì œì¶œ ì „)
- âŒ ê´€ë¦¬ ê¸°ëŠ¥ ì ‘ê·¼

**ì˜ˆì‹œ ê³„ì •:**
- Username: `kim_minsu`
- Password: `password123`
- ì—­í•  ì½”ë“œ: `student`

#### 2.1.4 í•™ë¶€ëª¨ (Parent)
**ê¶Œí•œ:**
- âœ… ìë…€ ëª©ë¡ ì¡°íšŒ
- âœ… ìë…€ ì„±ì  ì¡°íšŒ
- âœ… ìë…€ AI ë¶„ì„ ë³´ê³ ì„œ ì¡°íšŒ
- âœ… ìë…€ ìµœê·¼ ì‹œí—˜ ì´ë ¥ ì¡°íšŒ

**ì œí•œ:**
- âŒ ë‹¤ë¥¸ í•™ìƒ ì •ë³´ ì ‘ê·¼
- âŒ ì‹œí—˜ ì‘ì‹œ ë¶ˆê°€
- âŒ ê´€ë¦¬ ê¸°ëŠ¥ ì ‘ê·¼

**ì˜ˆì‹œ ê³„ì •:**
- Username: `parent_kim`
- Password: `parent123`
- ì—­í•  ì½”ë“œ: `parent`

### 2.2 ê¶Œí•œ ë§¤íŠ¸ë¦­ìŠ¤

| ê¸°ëŠ¥ | ê´€ë¦¬ì | ì§€ì  ê´€ë¦¬ì | í•™ìƒ | í•™ë¶€ëª¨ |
|-----|--------|------------|------|--------|
| ì§€ì  ê´€ë¦¬ | âœ… | âŒ | âŒ | âŒ |
| ì‹œí—˜ ìƒì„±/ì‚­ì œ | âœ… | âŒ | âŒ | âŒ |
| ì‹œí—˜ ë°°í¬ (ë‹¤ì¤‘ ì§€ì ) | âœ… | âŒ | âŒ | âŒ |
| ì‹œí—˜ ë°°í¬ (ë³¸ì¸ ì§€ì ) | âœ… | âœ… | âŒ | âŒ |
| í•™ìƒ ê´€ë¦¬ | âœ… | âœ… | âŒ | âŒ |
| ë°˜ ê´€ë¦¬ | âœ… | âœ… | âŒ | âŒ |
| ì‹œí—˜ ì‘ì‹œ | âŒ | âŒ | âœ… | âŒ |
| ë³¸ì¸ ì„±ì  ì¡°íšŒ | âŒ | âŒ | âœ… | âŒ |
| ìë…€ ì„±ì  ì¡°íšŒ | âŒ | âŒ | âŒ | âœ… |
| AI ë³´ê³ ì„œ ì¡°íšŒ | âœ… | âœ… | âœ… | âœ… |
| ì „ì²´ í†µê³„ ì¡°íšŒ | âœ… | âŒ | âŒ | âŒ |
| ì§€ì  í†µê³„ ì¡°íšŒ | âœ… | âœ… | âŒ | âŒ |
| Impersonation | âœ… | âœ… | âŒ | âŒ |

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 3.1 ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   branches   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚    users     â”‚
â”‚              â”‚  1    * â”‚              â”‚
â”‚ - id (PK)    â”‚         â”‚ - id (PK)    â”‚
â”‚ - name       â”‚         â”‚ - username   â”‚
â”‚ - address    â”‚         â”‚ - role       â”‚
â”‚ - phone      â”‚         â”‚ - branchId   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚
       â”‚ 1                      â”‚ 1
       â”‚                        â”‚
       â”‚ *                      â”‚ *
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚   classes    â”‚         â”‚   students   â”‚
â”‚              â”‚         â”‚              â”‚
â”‚ - id (PK)    â”‚         â”‚ - id (PK)    â”‚
â”‚ - branchId   â”‚         â”‚ - userId     â”‚
â”‚ - grade      â”‚         â”‚ - branchId   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ 1
                                â”‚
                                â”‚ *
                         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚ examAttempts  â”‚
                         â”‚               â”‚
                         â”‚ - id (PK)     â”‚
                         â”‚ - studentId   â”‚
                         â”‚ - examId      â”‚
                         â”‚ - score       â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 í…Œì´ë¸” ìƒì„¸

#### 3.2.1 users (ì‚¬ìš©ì)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ì‚¬ìš©ì ê³ ìœ  ID |
| username | TEXT | UNIQUE, NOT NULL | ë¡œê·¸ì¸ ì•„ì´ë”” |
| passwordHash | TEXT | NOT NULL | bcrypt í•´ì‹œ ë¹„ë°€ë²ˆí˜¸ |
| role | TEXT | NOT NULL | ì—­í• : admin, branch, student, parent |
| name | TEXT | NOT NULL | ì´ë¦„ |
| email | TEXT | | ì´ë©”ì¼ ì£¼ì†Œ |
| phone | TEXT | | ì „í™”ë²ˆí˜¸ |
| branchId | VARCHAR | FK â†’ branches.id | ì†Œì† ì§€ì  (í•™ìƒ/í•™ë¶€ëª¨/ì§€ì ê´€ë¦¬ì) |
| isActive | BOOLEAN | DEFAULT true | í™œì„± ìƒíƒœ |
| createdAt | TIMESTAMP | DEFAULT NOW() | ìƒì„±ì¼ì‹œ |
| updatedAt | TIMESTAMP | DEFAULT NOW() | ìˆ˜ì •ì¼ì‹œ |

**ì¸ë±ìŠ¤:**
- `idx_users_role` ON (role)
- `idx_users_branch` ON (branchId)

#### 3.2.2 branches (ì§€ì )
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ì§€ì  ê³ ìœ  ID |
| name | TEXT | NOT NULL | ì§€ì ëª… |
| address | TEXT | | ì£¼ì†Œ |
| phone | TEXT | | ëŒ€í‘œ ì „í™”ë²ˆí˜¸ |
| managerName | TEXT | | ì§€ì ì¥ ì´ë¦„ |
| isActive | BOOLEAN | DEFAULT true | í™œì„± ìƒíƒœ |
| createdAt | TIMESTAMP | DEFAULT NOW() | ìƒì„±ì¼ì‹œ |
| updatedAt | TIMESTAMP | DEFAULT NOW() | ìˆ˜ì •ì¼ì‹œ |

#### 3.2.3 classes (ë°˜/í´ë˜ìŠ¤)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ë°˜ ê³ ìœ  ID |
| name | TEXT | NOT NULL | ë°˜ ì´ë¦„ |
| branchId | VARCHAR | NOT NULL, FK â†’ branches.id | ì†Œì† ì§€ì  |
| grade | TEXT | | í•™ë…„ (ê³ 3, ì¤‘2 ë“±) |
| description | TEXT | | ì„¤ëª… |
| isActive | BOOLEAN | DEFAULT true | í™œì„± ìƒíƒœ |
| createdAt | TIMESTAMP | DEFAULT NOW() | ìƒì„±ì¼ì‹œ |

**ì¸ë±ìŠ¤:**
- `idx_classes_branch` ON (branchId)

#### 3.2.4 students (í•™ìƒ)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | í•™ìƒ ê³ ìœ  ID |
| userId | VARCHAR | NOT NULL, UNIQUE, FK â†’ users.id | ì‚¬ìš©ì ê³„ì • ì—°ê²° |
| branchId | VARCHAR | NOT NULL, FK â†’ branches.id | ì†Œì† ì§€ì  |
| school | TEXT | | í•™êµëª… |
| grade | TEXT | | í•™ë…„ (ì¤‘1~ê³ 3) |
| parentPhone | TEXT | | í•™ë¶€ëª¨ ì „í™”ë²ˆí˜¸ |
| enrollmentDate | TIMESTAMP | DEFAULT NOW() | ë“±ë¡ì¼ |

**ì¸ë±ìŠ¤:**
- `idx_students_branch` ON (branchId)

#### 3.2.5 parents (í•™ë¶€ëª¨)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | í•™ë¶€ëª¨ ê³ ìœ  ID |
| userId | VARCHAR | NOT NULL, UNIQUE, FK â†’ users.id | ì‚¬ìš©ì ê³„ì • ì—°ê²° |
| branchId | VARCHAR | NOT NULL, FK â†’ branches.id | ì†Œì† ì§€ì  |

**ì¸ë±ìŠ¤:**
- `idx_parents_branch` ON (branchId)

#### 3.2.6 student_parents (í•™ìƒ-í•™ë¶€ëª¨ ê´€ê³„)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ê´€ê³„ ê³ ìœ  ID |
| studentId | VARCHAR | NOT NULL, FK â†’ students.id | í•™ìƒ ID |
| parentId | VARCHAR | NOT NULL, FK â†’ parents.id | í•™ë¶€ëª¨ ID |

**ì œì•½:**
- UNIQUE (studentId, parentId)

#### 3.2.7 student_classes (í•™ìƒ-ë°˜ ë°°ì •)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ë°°ì • ê³ ìœ  ID |
| studentId | VARCHAR | NOT NULL, FK â†’ students.id | í•™ìƒ ID |
| classId | VARCHAR | NOT NULL, FK â†’ classes.id | ë°˜ ID |
| enrolledAt | TIMESTAMP | DEFAULT NOW() | ë°°ì •ì¼ì‹œ |

**ì œì•½:**
- UNIQUE (studentId, classId)

#### 3.2.8 exams (ì‹œí—˜)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ì‹œí—˜ ê³ ìœ  ID |
| title | TEXT | NOT NULL | ì‹œí—˜ëª… |
| subject | TEXT | NOT NULL | ê³¼ëª© (êµ­ì–´, ìˆ˜í•™, ì˜ì–´ ë“±) |
| grade | TEXT | | ëŒ€ìƒ í•™ë…„ |
| description | TEXT | | ì„¤ëª… |
| totalQuestions | INTEGER | NOT NULL | ì´ ë¬¸ì œ ìˆ˜ |
| totalScore | INTEGER | NOT NULL | ë§Œì  |
| examFileUrl | TEXT | | ì‹œí—˜ì§€ íŒŒì¼ URL |
| questionsData | JSON | NOT NULL | ë¬¸ì œ ë©”íƒ€ë°ì´í„° ë°°ì—´ |
| examTrends | JSON | | ì¶œì œ ê²½í–¥ ë¶„ì„ |
| overallReview | TEXT | | ì´í‰ |
| createdBy | VARCHAR | NOT NULL, FK â†’ users.id | ìƒì„±ì |
| createdAt | TIMESTAMP | DEFAULT NOW() | ìƒì„±ì¼ì‹œ |

**ì¸ë±ìŠ¤:**
- `idx_exams_subject` ON (subject)
- `idx_exams_created_by` ON (createdBy)

**questionsData êµ¬ì¡°:**
```json
[
  {
    "questionNumber": 1,
    "difficulty": "ìƒ",
    "category": "ëŒ€ìˆ˜",
    "subcategory": "ì´ì°¨í•¨ìˆ˜",
    "correctAnswer": 3,
    "points": 2
  },
  ...
]
```

**examTrends êµ¬ì¡°:**
```json
[
  {
    "questionNumbers": "1,2,3",
    "description": "ì´ì°¨í•¨ìˆ˜ì˜ ê·¸ë˜í”„ì™€ ìµœëŒ“ê°’, ìµœì†Ÿê°’ ë¬¸ì œ"
  },
  ...
]
```

#### 3.2.9 exam_distributions (ì‹œí—˜ ë°°í¬)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ë°°í¬ ê³ ìœ  ID |
| examId | VARCHAR | NOT NULL, FK â†’ exams.id | ì‹œí—˜ ID |
| branchId | VARCHAR | NOT NULL, FK â†’ branches.id | ëŒ€ìƒ ì§€ì  |
| classId | VARCHAR | FK â†’ classes.id | ëŒ€ìƒ ë°˜ (NULL = ì „ì²´) |
| startDate | TIMESTAMP | NOT NULL | ì‘ì‹œ ì‹œì‘ì¼ì‹œ |
| endDate | TIMESTAMP | NOT NULL | ì‘ì‹œ ì¢…ë£Œì¼ì‹œ |
| distributedBy | VARCHAR | NOT NULL, FK â†’ users.id | ë°°í¬ì |
| createdAt | TIMESTAMP | DEFAULT NOW() | ìƒì„±ì¼ì‹œ |

**ì¸ë±ìŠ¤:**
- `idx_distributions_exam` ON (examId)
- `idx_distributions_branch` ON (branchId)
- `idx_distributions_dates` ON (startDate, endDate)

#### 3.2.10 exam_attempts (ì‹œí—˜ ì‘ì‹œ)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ì‘ì‹œ ê³ ìœ  ID |
| examId | VARCHAR | NOT NULL, FK â†’ exams.id | ì‹œí—˜ ID |
| studentId | VARCHAR | NOT NULL, FK â†’ students.id | í•™ìƒ ID |
| distributionId | VARCHAR | NOT NULL, FK â†’ exam_distributions.id | ë°°í¬ ID |
| answers | JSON | NOT NULL | í•™ìƒ ë‹µì•ˆ |
| score | INTEGER | | íšë“ ì ìˆ˜ |
| maxScore | INTEGER | | ë§Œì  |
| grade | INTEGER | | ë“±ê¸‰ (1~9) |
| startedAt | TIMESTAMP | DEFAULT NOW() | ì‹œì‘ì¼ì‹œ |
| submittedAt | TIMESTAMP | | ì œì¶œì¼ì‹œ |
| gradedAt | TIMESTAMP | | ì±„ì ì¼ì‹œ |

**ì œì•½:**
- UNIQUE (studentId, distributionId)

**ì¸ë±ìŠ¤:**
- `idx_attempts_student` ON (studentId)
- `idx_attempts_exam` ON (examId)

**answers êµ¬ì¡°:**
```json
{
  "1": 3,
  "2": 1,
  "3": 4,
  ...
}
```

#### 3.2.11 ai_reports (AI ë¶„ì„ ë³´ê³ ì„œ)
| í•„ë“œëª… | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|--------|------|------|------|
| id | VARCHAR | PK, UUID | ë³´ê³ ì„œ ê³ ìœ  ID |
| attemptId | VARCHAR | NOT NULL, UNIQUE, FK â†’ exam_attempts.id | ì‘ì‹œ ê¸°ë¡ |
| studentId | VARCHAR | NOT NULL, FK â†’ students.id | í•™ìƒ ID |
| examId | VARCHAR | NOT NULL, FK â†’ exams.id | ì‹œí—˜ ID |
| analysis | JSON | | AI ë¶„ì„ ë°ì´í„° (êµ¬ì¡°í™”) |
| weakAreas | JSON | | ì·¨ì•½ ì˜ì—­ ë°°ì—´ |
| recommendations | JSON | | ì¶”ì²œ í•™ìŠµ ì „ëµ |
| expectedGrade | INTEGER | | ì˜ˆìƒ ë“±ê¸‰ |
| summary | TEXT | | ì¢…í•© ìš”ì•½ |
| htmlContent | TEXT | | ì™„ì„±ëœ HTML ë³´ê³ ì„œ |
| generatedAt | TIMESTAMP | DEFAULT NOW() | ìƒì„±ì¼ì‹œ |

**ì¸ë±ìŠ¤:**
- `idx_reports_student` ON (studentId)
- `idx_reports_exam` ON (examId)

### 3.3 ë°ì´í„° ë¬´ê²°ì„± ê·œì¹™

1. **CASCADE ì‚­ì œ:**
   - ì§€ì  ì‚­ì œ â†’ ì†Œì† ì‚¬ìš©ì/í•™ìƒ/ë°˜/ë°°í¬ ì‚­ì œ
   - ì‹œí—˜ ì‚­ì œ â†’ ë°°í¬/ì‘ì‹œ ê¸°ë¡ ì‚­ì œ
   - í•™ìƒ ì‚­ì œ â†’ ì‘ì‹œ ê¸°ë¡/ë³´ê³ ì„œ ì‚­ì œ

2. **UNIQUE ì œì•½:**
   - ì‚¬ìš©ìëª… (users.username)
   - í•™ìƒë‹¹ ë°°í¬ë‹¹ 1íšŒ ì‘ì‹œ (exam_attempts)
   - í•™ìƒ-í•™ë¶€ëª¨ ê´€ê³„ ì¤‘ë³µ ë°©ì§€
   - í•™ìƒ-ë°˜ ë°°ì • ì¤‘ë³µ ë°©ì§€

3. **NOT NULL ì œì•½:**
   - ëª¨ë“  ì´ë¦„ í•„ë“œ
   - ì™¸ë˜í‚¤ ì°¸ì¡° (ì„ íƒì  ì œì™¸)
   - ì‹œí—˜ ì ìˆ˜ ê´€ë ¨ í•„ë“œ

---

## 4. API ì—”ë“œí¬ì¸íŠ¸ ëª…ì„¸

### 4.1 ì¸ì¦ API

#### POST /api/auth/login
**ì„¤ëª…:** ì‚¬ìš©ì ë¡œê·¸ì¸

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "username": "allga",
  "password": "allga",
  "userType": "admin"  // optional: admin|branch|student|parent
}
```

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "user": {
    "id": "uuid",
    "username": "allga",
    "name": "ê´€ë¦¬ì",
    "role": "admin",
    "branchId": null
  }
}
```

**ì˜¤ë¥˜ (401):**
```json
{
  "message": "ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."
}
```

#### GET /api/auth/me
**ì„¤ëª…:** í˜„ì¬ ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "user": {
    "id": "uuid",
    "username": "allga1",
    "name": "ê°•ë‚¨ì  ê´€ë¦¬ì",
    "role": "branch",
    "branchId": "branch-gangnam"
  }
}
```

#### POST /api/auth/logout
**ì„¤ëª…:** ë¡œê·¸ì•„ì›ƒ

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### POST /api/auth/impersonate/:branchId
**ì„¤ëª…:** ê´€ë¦¬ìê°€ ì§€ì  ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ê°•ë‚¨ì  ê´€ë¦¬ìë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "user": { ... }
}
```

#### POST /api/auth/impersonate/student/:studentId
**ì„¤ëª…:** ì§€ì  ê´€ë¦¬ìê°€ í•™ìƒìœ¼ë¡œ ë¡œê·¸ì¸

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ê¹€ë¯¼ìˆ˜ í•™ìƒìœ¼ë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "user": { ... }
}
```

#### POST /api/auth/impersonate/parent/:parentId
**ì„¤ëª…:** ì§€ì  ê´€ë¦¬ìê°€ í•™ë¶€ëª¨ë¡œ ë¡œê·¸ì¸

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ê¹€OO í•™ë¶€ëª¨ë¡œ ì „í™˜ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "user": { ... }
}
```

### 4.2 ì‹œí—˜ ê´€ë¦¬ API

#### GET /api/exams
**ì„¤ëª…:** ì‹œí—˜ ëª©ë¡ ì¡°íšŒ

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "exam-uuid",
      "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
      "subject": "ìˆ˜í•™",
      "grade": "ê³ 1",
      "totalQuestions": 45,
      "totalScore": 100,
      "createdAt": "2025-10-17T12:00:00Z"
    }
  ]
}
```

#### GET /api/exams/available
**ì„¤ëª…:** ë°°í¬ ê°€ëŠ¥í•œ ì‹œí—˜ ëª©ë¡ (ê°„ì†Œí™”)

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "exam-uuid",
      "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
      "subject": "ìˆ˜í•™",
      "totalQuestions": 45,
      "totalScore": 100
    }
  ]
}
```

#### GET /api/exams/:id
**ì„¤ëª…:** ì‹œí—˜ ìƒì„¸ ì¡°íšŒ

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": {
    "id": "exam-uuid",
    "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
    "subject": "ìˆ˜í•™",
    "grade": "ê³ 1",
    "description": "1í•™ê¸° ì¤‘ê°„ê³ ì‚¬ ë²”ìœ„",
    "totalQuestions": 45,
    "totalScore": 100,
    "questionsData": [ ... ],
    "examTrends": [ ... ],
    "overallReview": "ì „ì²´ì ìœ¼ë¡œ ê· í˜•ì¡íŒ ì¶œì œ...",
    "createdBy": "admin-uuid",
    "createdAt": "2025-10-17T12:00:00Z"
  }
}
```

#### POST /api/exams
**ì„¤ëª…:** ì‹œí—˜ ìˆ˜ë™ ìƒì„±

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
  "subject": "ìˆ˜í•™",
  "grade": "ê³ 1",
  "description": "ì„¤ëª…",
  "totalQuestions": 45,
  "totalScore": 100,
  "questionsData": [
    {
      "questionNumber": 1,
      "difficulty": "ì¤‘",
      "category": "ëŒ€ìˆ˜",
      "subcategory": "ì´ì°¨í•¨ìˆ˜",
      "correctAnswer": 3,
      "points": 2
    }
  ]
}
```

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "data": { ... },
  "message": "ì‹œí—˜ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### PATCH /api/exams/:id
**ì„¤ëª…:** ì‹œí—˜ ìˆ˜ì •

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬ (ìˆ˜ì •)",
  "totalQuestions": 48,
  "totalScore": 110
}
```

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": { ... },
  "message": "ì‹œí—˜ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### DELETE /api/exams/:id
**ì„¤ëª…:** ì‹œí—˜ ì‚­ì œ

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ì‹œí—˜ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### POST /api/exams/upload
**ì„¤ëª…:** Excel íŒŒì¼ë¡œ ì‹œí—˜ ì—…ë¡œë“œ

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ìš”ì²­:** multipart/form-data
- file: Excel íŒŒì¼ (.xlsx)

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ì‹œí—˜ì´ ì—…ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.",
  "exam": {
    "id": "exam-uuid",
    "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
    "totalQuestions": 45,
    "totalScore": 100
  }
}
```

### 4.3 ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ API

#### GET /api/admin/stats?grade=ê³ 1
**ì„¤ëª…:** ì „ì²´ í†µê³„ ì¡°íšŒ (í•™ë…„ í•„í„° ì§€ì›)

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°:**
- grade (optional): í•™ë…„ í•„í„° (ì¤‘1~ê³ 3, all)

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": {
    "totalStudents": 150,
    "totalBranches": 5,
    "totalExams": 12,
    "averageScore": 78,
    "branchStats": [
      {
        "branchName": "ê°•ë‚¨ì ",
        "studentCount": 30,
        "examCount": 120,
        "averageScore": 82
      }
    ],
    "gradeDistribution": [
      { "grade": 1, "count": 15 },
      { "grade": 2, "count": 20 },
      ...
    ]
  }
}
```

#### GET /api/admin/recent-activity
**ì„¤ëª…:** ìµœê·¼ í™œë™ ì¡°íšŒ

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": {
    "recentExams": [
      {
        "id": "exam-uuid",
        "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
        "subject": "ìˆ˜í•™",
        "createdAt": "2025-10-17T12:00:00Z"
      }
    ]
  }
}
```

### 4.4 ì§€ì  ê´€ë¦¬ API

#### GET /api/branches
**ì„¤ëª…:** ì§€ì  ëª©ë¡ ì¡°íšŒ

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "branch-gangnam",
      "name": "ê°•ë‚¨ì ",
      "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...",
      "phone": "02-1234-5678",
      "managerName": "ê¹€ê´€ë¦¬",
      "isActive": true,
      "username": "allga1",
      "userId": "user-uuid"
    }
  ]
}
```

#### POST /api/branches
**ì„¤ëª…:** ì§€ì  ìƒì„±

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "id": "branch-gangnam",
  "name": "ê°•ë‚¨ì ",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...",
  "phone": "02-1234-5678",
  "managerName": "ê¹€ê´€ë¦¬",
  "username": "allga1",
  "password": "allga1"
}
```

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "data": { ... },
  "message": "ì§€ì ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### PUT /api/branches/:id
**ì„¤ëª…:** ì§€ì  ìˆ˜ì •

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "name": "ê°•ë‚¨ì  (ìˆ˜ì •)",
  "phone": "02-9999-8888"
}
```

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": { ... },
  "message": "ì§€ì ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### DELETE /api/branches/:id
**ì„¤ëª…:** ì§€ì  ì‚­ì œ

**ê¶Œí•œ:** ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ì§€ì ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

### 4.5 ì‹œí—˜ ë°°í¬ API

#### GET /api/distributions
**ì„¤ëª…:** ì‹œí—˜ ë°°í¬ ëª©ë¡ ì¡°íšŒ
- ê´€ë¦¬ì: ì „ì²´ ë°°í¬ ì¡°íšŒ
- ì§€ì  ê´€ë¦¬ì: ë³¸ì¸ ì§€ì  ë°°í¬ë§Œ ì¡°íšŒ

**ê¶Œí•œ:** ê´€ë¦¬ì ë˜ëŠ” ì§€ì  ê´€ë¦¬ì

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "dist-uuid",
      "examId": "exam-uuid",
      "branchId": "branch-gangnam",
      "classId": null,
      "startDate": "2025-10-20T09:00:00Z",
      "endDate": "2025-10-27T18:00:00Z",
      "distributedBy": "admin-uuid",
      "createdAt": "2025-10-17T12:00:00Z",
      "exam": {
        "id": "exam-uuid",
        "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
        "subject": "ìˆ˜í•™",
        "totalQuestions": 45,
        "totalScore": 100
      }
    }
  ]
}
```

#### POST /api/distributions
**ì„¤ëª…:** ì‹œí—˜ ë°°í¬
- ê´€ë¦¬ì: ë‹¤ì¤‘ ì§€ì  ë°°í¬ ê°€ëŠ¥ (branchIds ë°°ì—´)
- ì§€ì  ê´€ë¦¬ì: ë³¸ì¸ ì§€ì ë§Œ ë°°í¬ (branchIds ë¬´ì‹œ)

**ê¶Œí•œ:** ê´€ë¦¬ì ë˜ëŠ” ì§€ì  ê´€ë¦¬ì

**ìš”ì²­ ë³¸ë¬¸ (ê´€ë¦¬ì):**
```json
{
  "examId": "exam-uuid",
  "branchIds": ["branch-gangnam", "branch-jamsil"],
  "classId": null,
  "startDate": "2025-10-20T09:00:00Z",
  "endDate": "2025-10-27T18:00:00Z"
}
```

**ìš”ì²­ ë³¸ë¬¸ (ì§€ì  ê´€ë¦¬ì):**
```json
{
  "examId": "exam-uuid",
  "classId": "class-uuid",
  "startDate": "2025-10-20T09:00:00Z",
  "endDate": "2025-10-27T18:00:00Z"
}
```

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "distributions": [ ... ],
  "message": "2ê°œ ì§€ì ì— ì‹œí—˜ì´ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### GET /api/distributions/:id
**ì„¤ëª…:** ë°°í¬ ìƒì„¸ ì¡°íšŒ

**ê¶Œí•œ:** ê´€ë¦¬ì ë˜ëŠ” ì§€ì  ê´€ë¦¬ì

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": { ... }
}
```

#### DELETE /api/distributions/:id
**ì„¤ëª…:** ë°°í¬ ì‚­ì œ

**ê¶Œí•œ:** ê´€ë¦¬ì ë˜ëŠ” ì§€ì  ê´€ë¦¬ì

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "ë°°í¬ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

### 4.6 ë°˜ ê´€ë¦¬ API

#### GET /api/classes
**ì„¤ëª…:** ë°˜ ëª©ë¡ ì¡°íšŒ (ë³¸ì¸ ì§€ì )

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "class-uuid",
      "name": "ê³ 1-Aë°˜",
      "branchId": "branch-gangnam",
      "grade": "ê³ 1",
      "description": "ìµœìƒìœ„ë°˜",
      "isActive": true,
      "createdAt": "2025-10-01T00:00:00Z"
    }
  ]
}
```

#### POST /api/classes
**ì„¤ëª…:** ë°˜ ìƒì„±

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "name": "ê³ 1-Aë°˜",
  "grade": "ê³ 1",
  "description": "ìµœìƒìœ„ë°˜"
}
```

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "data": { ... },
  "message": "ë°˜ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### PUT /api/classes/:id
**ì„¤ëª…:** ë°˜ ìˆ˜ì •

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "name": "ê³ 1-Aë°˜ (ìˆ˜ì •)",
  "description": "ì—…ë°ì´íŠ¸"
}
```

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": { ... },
  "message": "ë°˜ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### POST /api/classes/:classId/students/:studentId
**ì„¤ëª…:** í•™ìƒì„ ë°˜ì— ë°°ì •

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "message": "í•™ìƒì´ ë°˜ì— ë°°ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### DELETE /api/classes/:classId/students/:studentId
**ì„¤ëª…:** í•™ìƒì„ ë°˜ì—ì„œ ì œê±°

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "message": "í•™ìƒì´ ë°˜ì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

### 4.7 í•™ìƒ ê´€ë¦¬ API

#### GET /api/students
**ì„¤ëª…:** í•™ìƒ ëª©ë¡ ì¡°íšŒ (ë³¸ì¸ ì§€ì )

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "student-uuid",
      "userId": "user-uuid",
      "branchId": "branch-gangnam",
      "school": "ê°•ë‚¨ê³ ë“±í•™êµ",
      "grade": "ê³ 1",
      "parentPhone": "010-1234-5678",
      "enrollmentDate": "2025-03-01T00:00:00Z",
      "user": {
        "id": "user-uuid",
        "username": "kim_minsu",
        "name": "ê¹€ë¯¼ìˆ˜",
        "email": "kim@example.com",
        "phone": "010-9999-8888"
      },
      "parent": {
        "id": "parent-uuid",
        "userId": "parent-user-uuid",
        "user": {
          "name": "ê¹€í•™ë¶€ëª¨",
          "phone": "010-1234-5678"
        }
      }
    }
  ]
}
```

#### POST /api/students
**ì„¤ëª…:** í•™ìƒ ìƒì„±

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "username": "kim_minsu",
  "password": "password123",
  "name": "ê¹€ë¯¼ìˆ˜",
  "email": "kim@example.com",
  "phone": "010-9999-8888",
  "school": "ê°•ë‚¨ê³ ë“±í•™êµ",
  "grade": "ê³ 1",
  "parentPhone": "010-1234-5678"
}
```

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "data": { ... },
  "message": "í•™ìƒì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### PUT /api/students/:id
**ì„¤ëª…:** í•™ìƒ ìˆ˜ì • (ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • í¬í•¨)

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "name": "ê¹€ë¯¼ìˆ˜",
  "school": "ê°•ë‚¨ê³ ë“±í•™êµ",
  "grade": "ê³ 2",
  "password": "newpassword123"  // optional
}
```

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": { ... },
  "message": "í•™ìƒ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### GET /api/branch-students
**ì„¤ëª…:** ì§€ì  í•™ìƒ ëª©ë¡ (ì„±ì  í¬í•¨)

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "student-uuid",
      "name": "ê¹€ë¯¼ìˆ˜",
      "grade": "ê³ 1",
      "latestExam": {
        "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
        "score": 85,
        "maxScore": 100,
        "grade": 2,
        "percentage": 85,
        "submittedAt": "2025-10-17T15:30:00Z"
      }
    }
  ]
}
```

### 4.8 í•™ë¶€ëª¨ ê´€ë¦¬ API

#### GET /api/parents
**ì„¤ëª…:** í•™ë¶€ëª¨ ëª©ë¡ ì¡°íšŒ (ë³¸ì¸ ì§€ì )

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "parent-uuid",
      "userId": "user-uuid",
      "branchId": "branch-gangnam",
      "user": {
        "username": "parent_kim",
        "name": "ê¹€í•™ë¶€ëª¨",
        "phone": "010-1234-5678"
      }
    }
  ]
}
```

#### POST /api/parents
**ì„¤ëª…:** í•™ë¶€ëª¨ ìƒì„±

**ê¶Œí•œ:** ì§€ì  ê´€ë¦¬ìë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "username": "parent_kim",
  "password": "parent123",
  "name": "ê¹€í•™ë¶€ëª¨",
  "phone": "010-1234-5678",
  "studentId": "student-uuid"
}
```

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "data": { ... },
  "message": "í•™ë¶€ëª¨ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

### 4.9 í•™ìƒ ì‹œí—˜ ì¸í„°í˜ì´ìŠ¤ API

#### GET /api/my-exams
**ì„¤ëª…:** í•™ìƒì—ê²Œ ë°°í¬ëœ ì‹œí—˜ ëª©ë¡

**ê¶Œí•œ:** í•™ìƒë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "distribution": {
        "id": "dist-uuid",
        "startDate": "2025-10-20T09:00:00Z",
        "endDate": "2025-10-27T18:00:00Z"
      },
      "exam": {
        "id": "exam-uuid",
        "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
        "subject": "ìˆ˜í•™",
        "totalQuestions": 45,
        "totalScore": 100
      },
      "attempt": {
        "id": "attempt-uuid",
        "score": 85,
        "grade": 2,
        "submittedAt": "2025-10-20T15:30:00Z"
      },
      "status": "completed",  // available, in_progress, completed
      "hasReport": true
    }
  ]
}
```

#### GET /api/my-exams/:distributionId
**ì„¤ëª…:** ì‹œí—˜ ìƒì„¸ ë° ë¬¸ì œ ì¡°íšŒ

**ê¶Œí•œ:** í•™ìƒë§Œ

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": {
    "exam": {
      "id": "exam-uuid",
      "title": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
      "subject": "ìˆ˜í•™",
      "totalQuestions": 45,
      "totalScore": 100,
      "questionsData": [
        {
          "questionNumber": 1,
          "difficulty": "ì¤‘",
          "category": "ëŒ€ìˆ˜",
          "points": 2
        }
      ]
    },
    "attempt": {
      "id": "attempt-uuid",
      "answers": { "1": 3, "2": 1 },
      "startedAt": "2025-10-20T14:00:00Z"
    }
  }
}
```

#### POST /api/exam-attempts
**ì„¤ëª…:** ì‹œí—˜ ì‹œì‘

**ê¶Œí•œ:** í•™ìƒë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "distributionId": "dist-uuid"
}
```

**ì‘ë‹µ (201):**
```json
{
  "success": true,
  "data": {
    "id": "attempt-uuid",
    "examId": "exam-uuid",
    "studentId": "student-uuid",
    "startedAt": "2025-10-20T14:00:00Z"
  }
}
```

#### PUT /api/exam-attempts/:id
**ì„¤ëª…:** ë‹µì•ˆ ì„ì‹œ ì €ì¥

**ê¶Œí•œ:** í•™ìƒë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "answers": {
    "1": 3,
    "2": 1,
    "3": 4
  }
}
```

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": { ... },
  "message": "ë‹µì•ˆì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### POST /api/exam-attempts/:id/submit
**ì„¤ëª…:** ì‹œí—˜ ì œì¶œ ë° ìë™ ì±„ì 

**ê¶Œí•œ:** í•™ìƒë§Œ

**ìš”ì²­ ë³¸ë¬¸:**
```json
{
  "answers": {
    "1": 3,
    "2": 1,
    ...
  }
}
```

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": {
    "id": "attempt-uuid",
    "score": 85,
    "maxScore": 100,
    "grade": 2,
    "percentage": 85,
    "submittedAt": "2025-10-20T15:30:00Z",
    "gradedAt": "2025-10-20T15:30:01Z"
  },
  "message": "ì‹œí—˜ì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

### 4.10 AI ë³´ê³ ì„œ API

#### POST /api/reports/generate/:attemptId
**ì„¤ëª…:** AI ë¶„ì„ ë³´ê³ ì„œ ìƒì„± (15-30ì´ˆ ì†Œìš”)

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "report": {
    "id": "report-uuid",
    "attemptId": "attempt-uuid",
    "studentId": "student-uuid",
    "examId": "exam-uuid",
    "htmlContent": "<!DOCTYPE html>...",
    "generatedAt": "2025-10-20T15:31:00Z"
  }
}
```

**ì˜¤ë¥˜ (400):**
```json
{
  "message": "ì´ë¯¸ ë³´ê³ ì„œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### GET /api/reports/:reportId
**ì„¤ëª…:** AI ë³´ê³ ì„œ HTML ì¡°íšŒ (ìƒˆ ì°½ì—ì„œ ë Œë”ë§)

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ:** HTML Content (text/html)
```html
<!DOCTYPE html>
<html>
...
</html>
```

#### GET /api/reports/attempt/:attemptId
**ì„¤ëª…:** ì‘ì‹œ ê¸°ë¡ì˜ ë³´ê³ ì„œ ì¡°íšŒ

**ê¶Œí•œ:** ë¡œê·¸ì¸ í•„ìš”

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": {
    "id": "report-uuid",
    "htmlContent": "<!DOCTYPE html>...",
    "generatedAt": "2025-10-20T15:31:00Z"
  }
}
```

#### GET /api/reports/student
**ì„¤ëª…:** í•™ìƒì˜ ëª¨ë“  ë³´ê³ ì„œ ëª©ë¡

**ê¶Œí•œ:** í•™ìƒ ë˜ëŠ” í•™ë¶€ëª¨

**ì‘ë‹µ (200):**
```json
{
  "success": true,
  "data": [
    {
      "id": "report-uuid",
      "examTitle": "ìˆ˜í•™ ëª¨ì˜ê³ ì‚¬",
      "score": 85,
      "grade": 2,
      "generatedAt": "2025-10-20T15:31:00Z"
    }
  ]
}
```

---

## 5. ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

### 5.1 Excel ê¸°ë°˜ ì‹œí—˜ ì—…ë¡œë“œ

#### 5.1.1 ì§€ì› í˜•ì‹
- íŒŒì¼ í˜•ì‹: `.xlsx` (Microsoft Excel)
- ìµœëŒ€ íŒŒì¼ í¬ê¸°: 10MB
- ì¸ì½”ë”©: UTF-8

#### 5.1.2 Excel êµ¬ì¡° (OLGA í‘œì¤€ í¬ë§·)

**Row 1-2:** ì‹œí—˜ ë©”íƒ€ë°ì´í„°
- A1: ì‹œí—˜ ì œëª©
- A2: ê³¼ëª©ëª…

**Row 3:** ë¬¸ì œ ë©”íƒ€ë°ì´í„° í—¤ë”
| ì—´ | í•„ë“œëª… | í•„ìˆ˜ | ì„¤ëª… |
|----|--------|------|------|
| A | ë²ˆí˜¸ | âœ… | ë¬¸ì œ ë²ˆí˜¸ (1~45) |
| B | ë‚œì´ë„ | âœ… | í•˜, ì¤‘, ìƒ, ìµœìƒ |
| C | ì¶œì œì˜ì—­ | âœ… | ëŒ€ë¶„ë¥˜ (ëŒ€ìˆ˜, ê¸°í•˜ ë“±) |
| D | ìœ í˜•ë¶„ì„ | | ì¤‘ë¶„ë¥˜ |
| E | ì†Œë¶„ë¥˜ | | ì„¸ë¶€ ìœ í˜• |
| F | í•´ì„¤ | | ë¬¸ì œ í•´ì„¤ |
| G | ì •ë‹µ | âœ… | ì •ë‹µ ë²ˆí˜¸ (1~5) |
| H | ë°°ì  | âœ… | ì ìˆ˜ |

**Row 4~48:** ë¬¸ì œ ë°ì´í„° (45ë¬¸ì œ)

**Row 50-52:** ì¶œì œ ê²½í–¥ (examTrends)
- A50-A52: ë¬¸ì œ ë²ˆí˜¸ (ì˜ˆ: "1,2,3")
- B50-B52: ì¶œì œ ê²½í–¥ ì„¤ëª…

**Row 54:** ì´í‰ (overallReview)
- A54: ì „ì²´ ì‹œí—˜ ì´í‰ í…ìŠ¤íŠ¸

#### 5.1.3 ì—…ë¡œë“œ í”„ë¡œì„¸ìŠ¤
1. íŒŒì¼ ì„ íƒ
2. ì„œë²„ ì—…ë¡œë“œ (multer)
3. Excel íŒŒì‹± (xlsx ë¼ì´ë¸ŒëŸ¬ë¦¬)
4. ë°ì´í„° ê²€ì¦
   - ì¤‘ë³µ ë¬¸ì œ ë²ˆí˜¸ ì œê±°
   - í•„ìˆ˜ í•„ë“œ í™•ì¸
   - ì´ì  ê³„ì‚° (ë°°ì  í•©ê³„)
5. ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
6. ì„±ê³µ ë©”ì‹œì§€ ë°˜í™˜

#### 5.1.4 ì˜¤ë¥˜ ì²˜ë¦¬
- ì˜ëª»ëœ íŒŒì¼ í˜•ì‹ â†’ "Excel íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤."
- í•„ìˆ˜ í•„ë“œ ëˆ„ë½ â†’ "Xë²ˆ ë¬¸ì œì˜ í•„ìˆ˜ ì •ë³´ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤."
- ì¤‘ë³µ ë¬¸ì œ ë²ˆí˜¸ â†’ ìë™ ì œê±° (ë§ˆì§€ë§‰ ê°’ ìœ ì§€)

### 5.2 ì‹œí—˜ ë°°í¬ ì‹œìŠ¤í…œ

#### 5.2.1 ë°°í¬ ì£¼ì²´ë³„ ê¶Œí•œ

**ê´€ë¦¬ì:**
- ë‹¤ì¤‘ ì§€ì  ë™ì‹œ ë°°í¬
- ì²´í¬ë°•ìŠ¤ë¡œ ì§€ì  ì„ íƒ
- ë°°í¬ íšŸìˆ˜ = ì„ íƒí•œ ì§€ì  ìˆ˜

**ì§€ì  ê´€ë¦¬ì:**
- ë³¸ì¸ ì§€ì ë§Œ ë°°í¬
- ë°˜ ì„ íƒ ê°€ëŠ¥ (ì „ì²´ ë˜ëŠ” íŠ¹ì • ë°˜)
- ë‹¨ì¼ ë°°í¬ë§Œ ìƒì„±

#### 5.2.2 ë°°í¬ ì„¤ì •
- **ì‹œì‘ì¼ì‹œ**: í•™ìƒì´ ì‹œí—˜ ë³¼ ìˆ˜ ìˆëŠ” ì‹œì‘ ì‹œê°„
- **ì¢…ë£Œì¼ì‹œ**: ì‹œí—˜ ì‘ì‹œ ë§ˆê° ì‹œê°„
- **ëŒ€ìƒ ë°˜**: NULL = ì „ì²´ í•™ìƒ, íŠ¹ì • ë°˜ ID = í•´ë‹¹ ë°˜ë§Œ
- **ê²€ì¦ ê·œì¹™**:
  - ì‹œì‘ì¼ < ì¢…ë£Œì¼
  - ì‹œì‘ì¼ > í˜„ì¬ ì‹œê°„
  - ì‹œí—˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸

#### 5.2.3 ë°°í¬ í›„ í•™ìƒ ì ‘ê·¼
- í•™ìƒ ë¡œê·¸ì¸ â†’ "ë‚´ ì‹œí—˜" íƒ­
- ë°°í¬ëœ ì‹œí—˜ ëª©ë¡ í‘œì‹œ
- ìƒíƒœ: 
  - **available** (íŒŒë€ìƒ‰): ì‘ì‹œ ê°€ëŠ¥
  - **in_progress** (ë…¸ë€ìƒ‰): ì‘ì‹œ ì¤‘
  - **completed** (ì´ˆë¡ìƒ‰): ì œì¶œ ì™„ë£Œ

### 5.3 ì‹œí—˜ ì‘ì‹œ ì‹œìŠ¤í…œ

#### 5.3.1 ì‘ì‹œ íë¦„
1. í•™ìƒì´ "ì‹œí—˜ ì‹œì‘" í´ë¦­
2. `POST /api/exam-attempts` í˜¸ì¶œ
3. ì‹œí—˜ ì‘ì‹œ ë ˆì½”ë“œ ìƒì„± (startedAt ê¸°ë¡)
4. ë¬¸ì œ í™”ë©´ í‘œì‹œ (ì •ë‹µì€ ìˆ¨ê¹€)
5. í•™ìƒì´ ë‹µì•ˆ ì„ íƒ
6. "ì„ì‹œ ì €ì¥" â†’ `PUT /api/exam-attempts/:id`
7. "ì œì¶œ" í´ë¦­ â†’ `POST /api/exam-attempts/:id/submit`
8. ìë™ ì±„ì  ì‹¤í–‰
9. ì ìˆ˜ ë° ë“±ê¸‰ í‘œì‹œ

#### 5.3.2 ìë™ ì±„ì  ë¡œì§
```javascript
// 1. ì •ë‹µ ëŒ€ì¡°
for (let q of exam.questionsData) {
  const studentAnswer = attempt.answers[q.questionNumber];
  const correct = (studentAnswer === q.correctAnswer);
  if (correct) {
    score += q.points;
  }
}

// 2. ë“±ê¸‰ ì‚°ì¶œ (1~9ë“±ê¸‰)
const percentage = (score / maxScore) * 100;
let grade;
if (percentage >= 96) grade = 1;
else if (percentage >= 89) grade = 2;
else if (percentage >= 77) grade = 3;
else if (percentage >= 60) grade = 4;
else if (percentage >= 40) grade = 5;
else if (percentage >= 25) grade = 6;
else if (percentage >= 15) grade = 7;
else if (percentage >= 8) grade = 8;
else grade = 9;

// 3. ë“±ê¸‰ ì €ì¥
attempt.score = score;
attempt.grade = grade;
attempt.submittedAt = now;
attempt.gradedAt = now;
```

#### 5.3.3 ì œí•œ ì‚¬í•­
- ë°°í¬ë‹¹ 1íšŒë§Œ ì‘ì‹œ ê°€ëŠ¥
- ì‹œì‘ì¼ ì´ì „ ì‘ì‹œ ë¶ˆê°€
- ì¢…ë£Œì¼ ì´í›„ ì‘ì‹œ ë¶ˆê°€
- ì œì¶œ í›„ ë‹µì•ˆ ìˆ˜ì • ë¶ˆê°€

### 5.4 AI ë¶„ì„ ë³´ê³ ì„œ ìƒì„±

#### 5.4.1 ìƒì„± íŠ¸ë¦¬ê±°
- ì§€ì  ê´€ë¦¬ìê°€ "ë³´ê³ ì„œ ìƒì„±" ë²„íŠ¼ í´ë¦­
- í•™ìƒì´ ìì‹ ì˜ ì‹œí—˜ ê²°ê³¼ì—ì„œ "AI ë¶„ì„ ìš”ì²­"
- í•™ë¶€ëª¨ê°€ ìë…€ ì„±ì ì—ì„œ "ë¶„ì„ ë³´ê³ ì„œ ë³´ê¸°"

#### 5.4.2 ìƒì„± í”„ë¡œì„¸ìŠ¤ (15-30ì´ˆ)

**1ë‹¨ê³„: ë°ì´í„° ìˆ˜ì§‘**
- ì‹œí—˜ ì •ë³´ (ì œëª©, ê³¼ëª©, ì´í‰, ì¶œì œ ê²½í–¥)
- í•™ìƒ ë‹µì•ˆ ë° ì±„ì  ê²°ê³¼
- ë¬¸ì œë³„ ë©”íƒ€ë°ì´í„° (ë‚œì´ë„, ì˜ì—­, ìœ í˜•)
- í•™ìƒ ì •ë³´ (ì´ë¦„, í•™ë…„, í•™êµ)

**2ë‹¨ê³„: AI ë¶„ì„ ìš”ì²­**
```javascript
// Gemini API í˜¸ì¶œ
const prompt = `
ë‹¤ìŒ í•™ìƒì˜ ì‹œí—˜ ê²°ê³¼ë¥¼ ë¶„ì„í•´ì£¼ì„¸ìš”:

[í•™ìƒ ì •ë³´]
ì´ë¦„: ${studentName}
í•™ë…„: ${grade}
ì ìˆ˜: ${score}/${maxScore} (${percentage}%)
ë“±ê¸‰: ${grade}ë“±ê¸‰

[ì‹œí—˜ ì •ë³´]
ì œëª©: ${examTitle}
ê³¼ëª©: ${subject}
ì´í‰: ${overallReview}

[ë¬¸ì œë³„ ê²°ê³¼]
${questionResults}

ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ JSON ì‘ë‹µí•´ì£¼ì„¸ìš”:
{
  "subjectAreas": [
    {
      "name": "ì˜ì—­ëª…",
      "totalQuestions": 10,
      "correctAnswers": 7,
      "percentage": 70,
      "difficulty": {
        "í•˜": { correct: 3, total: 3 },
        ...
      }
    }
  ],
  "strengths": ["ì˜í•œ ì  1", "ì˜í•œ ì  2"],
  "weaknesses": ["ì·¨ì•½í•œ ì  1", "ì·¨ì•½í•œ ì  2"],
  "errorPatterns": ["ì˜¤ë‹µ íŒ¨í„´ 1", "ì˜¤ë‹µ íŒ¨í„´ 2"],
  "studyPlan": {
    "immediate": ["ì¦‰ì‹œ í•  ì¼"],
    "shortTerm": ["ë‹¨ê¸° ëª©í‘œ"],
    "longTerm": ["ì¥ê¸° ëª©í‘œ"]
  },
  "learningStrategies": ["í•™ìŠµ ì „ëµ 1", "í•™ìŠµ ì „ëµ 2"],
  "summary": "ì¢…í•© í‰ê°€ ìš”ì•½"
}
`;

const response = await genAI.generateContent(prompt);
const analysisData = JSON.parse(response.text);
```

**3ë‹¨ê³„: HTML ë³´ê³ ì„œ ìƒì„±**
- 693ì¤„ HTML í…œí”Œë¦¿ ë¡œë“œ (`server/report-template.html`)
- ë™ì  ë°ì´í„° ì‚½ì…:
  - í•™ìƒ ì •ë³´
  - ì ìˆ˜/ë“±ê¸‰
  - AI ë¶„ì„ ê²°ê³¼
  - Chart.js ë°ì´í„°
- XSS ë°©ì–´ (ëª¨ë“  í…ìŠ¤íŠ¸ escapeHtml ì²˜ë¦¬)
- Chart.js JSON (Unicode ì´ìŠ¤ì¼€ì´í”„: `\u003c`, `\u003e`, `\u0026`, `\u0027`, `\u0022`)

**4ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥**
```sql
INSERT INTO ai_reports (
  id, attempt_id, student_id, exam_id,
  analysis, weak_areas, recommendations,
  expected_grade, summary, html_content,
  generated_at
) VALUES (...);
```

**5ë‹¨ê³„: ì‘ë‹µ ë°˜í™˜**
- ë³´ê³ ì„œ ID ë°˜í™˜
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìƒˆ ì°½ìœ¼ë¡œ `/api/reports/:id` ì˜¤í”ˆ
- HTML ë Œë”ë§ (Chart.js ì°¨íŠ¸ í¬í•¨)

#### 5.4.3 ë³´ê³ ì„œ êµ¬ì¡°

**ì„¹ì…˜ 1: í•™ìƒ ì •ë³´**
- ì´ë¦„, í•™ë…„, í•™êµ
- ì‹œí—˜ ì œëª©, ì‘ì‹œì¼
- ì ìˆ˜, ë“±ê¸‰

**ì„¹ì…˜ 2: ì„±ì  ìš”ì•½**
- ì´ì /ë§Œì 
- ë°±ë¶„ìœ¨
- ë“±ê¸‰ (1~9)
- ì „ì²´ ì‘ì‹œì ì¤‘ ìˆœìœ„

**ì„¹ì…˜ 3: ì˜ì—­ë³„ ë¶„ì„**
- ì˜ì—­ëª… (ëŒ€ìˆ˜, ê¸°í•˜, í•¨ìˆ˜ ë“±)
- ì •ë‹µ ìˆ˜ / ì „ì²´ ë¬¸ì œ ìˆ˜
- ì •ë‹µë¥  (%)
- ë‚œì´ë„ë³„ ì •ë‹µë¥  ê·¸ë˜í”„ (Chart.js)

**ì„¹ì…˜ 4: ê°•ì **
- AIê°€ ë¶„ì„í•œ ì˜í•œ ì  3-5ê°œ
- HTML ë¦¬ìŠ¤íŠ¸ë¡œ í‘œì‹œ

**ì„¹ì…˜ 5: ì•½ì  ë° ì·¨ì•½ ì˜ì—­**
- í‹€ë¦° ë¬¸ì œê°€ ë§ì€ ì˜ì—­
- ê°œì„ ì´ í•„ìš”í•œ ìœ í˜•
- ì˜¤ë‹µ íŒ¨í„´ ë¶„ì„

**ì„¹ì…˜ 6: í•™ìŠµ ë¡œë“œë§µ**
- ì¦‰ì‹œ ì‹¤í–‰ ê³„íš (1ì£¼)
- ë‹¨ê¸° ëª©í‘œ (1ê°œì›”)
- ì¥ê¸° ëª©í‘œ (3ê°œì›”)

**ì„¹ì…˜ 7: í•™ìŠµ ì „ëµ**
- ë§ì¶¤í˜• í•™ìŠµ ë°©ë²• ì œì•ˆ
- ë¬¸ì œ í’€ì´ íŒ
- ì‹œê°„ ê´€ë¦¬ ì „ëµ

**ì„¹ì…˜ 8: ì¢…í•© í‰ê°€**
- AIê°€ ì‘ì„±í•œ ì¢…í•© ìš”ì•½
- ê²©ë ¤ ë©”ì‹œì§€
- ë‹¤ìŒ ì‹œí—˜ ëª©í‘œ

**ì„¹ì…˜ 9: ì°¨íŠ¸**
- ì˜ì—­ë³„ ì •ë‹µë¥  (ë°” ì°¨íŠ¸)
- ë‚œì´ë„ë³„ ë¶„í¬ (íŒŒì´ ì°¨íŠ¸)
- ì‹œê°„ ê²½ê³¼ì— ë”°ë¥¸ ì„±ì  ì¶”ì´ (ë¼ì¸ ì°¨íŠ¸)

### 5.5 ë³´ì•ˆ ê¸°ëŠ¥

#### 5.5.1 XSS ë°©ì–´
- ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ HTML ì´ìŠ¤ì¼€ì´í”„
- Chart.js JSON Unicode ì´ìŠ¤ì¼€ì´í”„
- 7ê°œ í—¬í¼ í•¨ìˆ˜ì— `escapeHtml()` ì ìš©:
  1. `buildAreaAnalysisHTML`
  2. `buildStrengthsHTML`
  3. `buildWeaknessesHTML`
  4. `buildErrorPatternsHTML`
  5. `buildRoadmapHTML`
  6. `buildLearningStrategiesHTML`
  7. `buildSummaryHTML`

#### 5.5.2 ì¸ì¦ ë° ì„¸ì…˜
- bcrypt ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (10 rounds)
- ì„œë²„ ì„¸ì…˜ ì €ì¥ (PostgreSQL)
- ì¿ í‚¤ ê¸°ë°˜ ì„¸ì…˜ ID
- ì„¸ì…˜ ë§Œë£Œ: 24ì‹œê°„

#### 5.5.3 ê¶Œí•œ ê¸°ë°˜ ì ‘ê·¼ ì œì–´
- ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ì— ë¯¸ë“¤ì›¨ì–´ ì ìš©
  - `requireAuth`: ë¡œê·¸ì¸ í•„ìš”
  - `requireAdmin`: ê´€ë¦¬ìë§Œ
  - `requireBranchManager`: ì§€ì  ê´€ë¦¬ìë§Œ
  - `requireStudent`: í•™ìƒë§Œ
- ë°ì´í„° ê²©ë¦¬:
  - ì§€ì  ê´€ë¦¬ìëŠ” ë³¸ì¸ ì§€ì  ë°ì´í„°ë§Œ
  - í•™ìƒì€ ë³¸ì¸ ë°ì´í„°ë§Œ
  - í•™ë¶€ëª¨ëŠ” ìë…€ ë°ì´í„°ë§Œ

#### 5.5.4 SQL Injection ë°©ì–´
- Drizzle ORM ì‚¬ìš© (íŒŒë¼ë¯¸í„°í™”ëœ ì¿¼ë¦¬)
- ì›ì‹œ SQL ì‹¤í–‰ ê¸ˆì§€
- ì…ë ¥ ê²€ì¦ (Zod ìŠ¤í‚¤ë§ˆ)

---

## 6. UI/UX í”Œë¡œìš°

### 6.1 ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

```
ë¡œê·¸ì¸ (admin) 
  â†“
í™ˆ ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ì „ì²´ í†µê³„ ì¹´ë“œ
  â”‚   â”œâ”€ ì´ í•™ìƒ ìˆ˜
  â”‚   â”œâ”€ ì´ ì§€ì  ìˆ˜
  â”‚   â”œâ”€ ì´ ì‹œí—˜ ìˆ˜
  â”‚   â””â”€ í‰ê·  ì ìˆ˜
  â”œâ”€ í•™ë…„ í•„í„° (ì¤‘1~ê³ 3, ì „ì²´)
  â”œâ”€ ì§€ì  ìƒì„¸ í†µê³„ í…Œì´ë¸”
  â”‚   â”œâ”€ ì§€ì ëª… ê²€ìƒ‰
  â”‚   â”œâ”€ í•™ìƒ ìˆ˜
  â”‚   â”œâ”€ ì‹œí—˜ ì‘ì‹œ ìˆ˜
  â”‚   â”œâ”€ í‰ê·  ì ìˆ˜
  â”‚   â””â”€ "ë¡œê·¸ì¸" ë²„íŠ¼ (Impersonation)
  â””â”€ ë“±ê¸‰ ë¶„í¬ ê·¸ë˜í”„ (Chart.js)

ì‚¬ì´ë“œë°” ë©”ë‰´
  â”œâ”€ ğŸ  ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ğŸ¢ ì§€ì  ê´€ë¦¬
  â”‚   â”œâ”€ ì§€ì  ëª©ë¡ í…Œì´ë¸”
  â”‚   â”œâ”€ "ì§€ì  ì¶”ê°€" ë²„íŠ¼
  â”‚   â””â”€ ìˆ˜ì •/ì‚­ì œ ì•¡ì…˜
  â”œâ”€ ğŸ“ ì‹œí—˜ ê´€ë¦¬
  â”‚   â”œâ”€ ì‹œí—˜ ëª©ë¡
  â”‚   â”œâ”€ "Excel ì—…ë¡œë“œ" ë²„íŠ¼
  â”‚   â”œâ”€ "ìˆ˜ë™ ìƒì„±" ë²„íŠ¼
  â”‚   â”œâ”€ "ìƒì„¸ ë³´ê¸°" (Eye ì•„ì´ì½˜)
  â”‚   â””â”€ ìˆ˜ì •/ì‚­ì œ ì•¡ì…˜
  â”œâ”€ ğŸ“Š ì‹œí—˜ ë°°í¬
  â”‚   â”œâ”€ ì‹œí—˜ ì„ íƒ
  â”‚   â”œâ”€ ì§€ì  ë‹¤ì¤‘ ì„ íƒ (ì²´í¬ë°•ìŠ¤)
  â”‚   â”œâ”€ ì‹œì‘/ì¢…ë£Œì¼ ì„¤ì •
  â”‚   â””â”€ "ë°°í¬" ë²„íŠ¼
  â””â”€ âš™ï¸ ì„¤ì •
```

### 6.2 ì§€ì  ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

```
ë¡œê·¸ì¸ (branch)
  â†“
í™ˆ ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ì§€ì  í†µê³„ ì¹´ë“œ
  â”‚   â”œâ”€ í•™ìƒ ìˆ˜
  â”‚   â”œâ”€ ì‹œí—˜ ì‘ì‹œ ìˆ˜
  â”‚   â””â”€ í‰ê·  ì ìˆ˜
  â””â”€ í•™ìƒ ì„±ì  í…Œì´ë¸”
      â”œâ”€ ì´ë¦„, í•™ë…„
      â”œâ”€ ìµœê·¼ ì‹œí—˜
      â”œâ”€ ì ìˆ˜, ë“±ê¸‰
      â””â”€ "ë³´ê³ ì„œ ìƒì„±" ë²„íŠ¼

ì‚¬ì´ë“œë°” ë©”ë‰´
  â”œâ”€ ğŸ  ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ğŸ‘¨â€ğŸ“ í•™ìƒ ê´€ë¦¬
  â”‚   â”œâ”€ í•™ìƒ ëª©ë¡
  â”‚   â”œâ”€ "í•™ìƒ ì¶”ê°€" ë²„íŠ¼
  â”‚   â”œâ”€ ìˆ˜ì • (ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • í¬í•¨)
  â”‚   â””â”€ "ë¡œê·¸ì¸" ë²„íŠ¼ (Impersonation)
  â”œâ”€ ğŸ‘ª í•™ë¶€ëª¨ ê´€ë¦¬
  â”‚   â”œâ”€ í•™ë¶€ëª¨ ëª©ë¡
  â”‚   â”œâ”€ "í•™ë¶€ëª¨ ì¶”ê°€" ë²„íŠ¼
  â”‚   â””â”€ í•™ìƒ ì—°ê²°
  â”œâ”€ ğŸ« ë°˜ ê´€ë¦¬
  â”‚   â”œâ”€ ë°˜ ëª©ë¡
  â”‚   â”œâ”€ "ë°˜ ì¶”ê°€" ë²„íŠ¼
  â”‚   â””â”€ í•™ìƒ ë°°ì •
  â”œâ”€ ğŸ“Š ì‹œí—˜ ë°°í¬
  â”‚   â”œâ”€ ì‹œí—˜ ì„ íƒ
  â”‚   â”œâ”€ ë°˜ ì„ íƒ (ì „ì²´ ë˜ëŠ” íŠ¹ì • ë°˜)
  â”‚   â”œâ”€ ì‹œì‘/ì¢…ë£Œì¼ ì„¤ì •
  â”‚   â””â”€ "ë°°í¬" ë²„íŠ¼
  â””â”€ ğŸ“ˆ ë¶„ì„
```

### 6.3 í•™ìƒ ì¸í„°í˜ì´ìŠ¤

```
ë¡œê·¸ì¸ (student)
  â†“
í™ˆ ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ë‚´ í†µê³„ ì¹´ë“œ
  â”‚   â”œâ”€ ì‘ì‹œí•œ ì‹œí—˜ ìˆ˜
  â”‚   â”œâ”€ í‰ê·  ì ìˆ˜
  â”‚   â””â”€ í‰ê·  ë“±ê¸‰
  â””â”€ ìµœê·¼ ì‹œí—˜ ëª©ë¡
      â”œâ”€ ì‹œí—˜ëª…
      â”œâ”€ ì ìˆ˜/ë“±ê¸‰
      â””â”€ "ë³´ê³ ì„œ ë³´ê¸°" ë²„íŠ¼

ì‚¬ì´ë“œë°” ë©”ë‰´
  â”œâ”€ ğŸ  ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ğŸ“ ë‚´ ì‹œí—˜
  â”‚   â”œâ”€ ë°°í¬ëœ ì‹œí—˜ ëª©ë¡
  â”‚   â”œâ”€ ìƒíƒœ (available, in_progress, completed)
  â”‚   â”œâ”€ "ì‹œì‘" ë²„íŠ¼
  â”‚   â””â”€ "ê³„ì†í•˜ê¸°" ë²„íŠ¼
  â”œâ”€ ğŸ“Š ë‚´ ì„±ì 
  â”‚   â”œâ”€ ì‹œí—˜ ì´ë ¥
  â”‚   â”œâ”€ ì ìˆ˜/ë“±ê¸‰
  â”‚   â””â”€ "ë³´ê³ ì„œ ë³´ê¸°"
  â””â”€ âš™ï¸ ì„¤ì •

ì‹œí—˜ ì‘ì‹œ í™”ë©´
  â”œâ”€ í—¤ë” (ì‹œí—˜ëª…, íƒ€ì´ë¨¸)
  â”œâ”€ ë¬¸ì œ ëª©ë¡ (ì¢Œì¸¡)
  â”œâ”€ ë¬¸ì œ ë³¸ë¬¸ (ìš°ì¸¡)
  â”‚   â”œâ”€ ë¬¸ì œ ë²ˆí˜¸/ë°°ì 
  â”‚   â”œâ”€ ë‚œì´ë„
  â”‚   â””â”€ ì„ íƒì§€ (ë¼ë””ì˜¤ ë²„íŠ¼)
  â”œâ”€ "ì„ì‹œ ì €ì¥" ë²„íŠ¼
  â””â”€ "ì œì¶œ" ë²„íŠ¼
```

### 6.4 í•™ë¶€ëª¨ ì¸í„°í˜ì´ìŠ¤

```
ë¡œê·¸ì¸ (parent)
  â†“
í™ˆ ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ìë…€ ëª©ë¡
  â”‚   â”œâ”€ ì´ë¦„, í•™ë…„
  â”‚   â”œâ”€ í•™êµ
  â”‚   â””â”€ ì‹œí—˜ ì‘ì‹œ ìˆ˜
  â””â”€ ìë…€ë³„ ìµœê·¼ ì„±ì 
      â”œâ”€ ì‹œí—˜ëª…
      â”œâ”€ ì ìˆ˜/ë“±ê¸‰
      â””â”€ "ë³´ê³ ì„œ ë³´ê¸°" ë²„íŠ¼

ì‚¬ì´ë“œë°” ë©”ë‰´
  â”œâ”€ ğŸ  ëŒ€ì‹œë³´ë“œ
  â”œâ”€ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ìë…€ ëª©ë¡
  â””â”€ ğŸ“Š ì„±ì  ë¶„ì„
      â”œâ”€ ìë…€ë³„ ì„±ì  ì¶”ì´
      â””â”€ AI ë³´ê³ ì„œ ëª©ë¡
```

### 6.5 ë°˜ì‘í˜• ë””ìì¸

**ë°ìŠ¤í¬í†± (1024px+):**
- ì‚¬ì´ë“œë°” ê³ ì • í‘œì‹œ
- 3ì—´ ë ˆì´ì•„ì›ƒ (ì‚¬ì´ë“œë°” + ë©”ì¸ + ìš°ì¸¡ íŒ¨ë„)
- ì°¨íŠ¸ ê°€ë¡œ ë°°ì¹˜

**íƒœë¸”ë¦¿ (768px-1023px):**
- ì‚¬ì´ë“œë°” í† ê¸€
- 2ì—´ ë ˆì´ì•„ì›ƒ
- ì°¨íŠ¸ ì„¸ë¡œ ë°°ì¹˜

**ëª¨ë°”ì¼ (< 768px):**
- í–„ë²„ê±° ë©”ë‰´
- 1ì—´ ë ˆì´ì•„ì›ƒ
- ì¹´ë“œ ìŠ¤íƒ
- í„°ì¹˜ ìµœì í™”

---

## 7. AI ë³´ê³ ì„œ ìƒì„± ì‹œìŠ¤í…œ

### 7.1 Gemini API í†µí•©

**API ì„¤ì •:**
- Provider: Google Gemini API
- Model: `gemini-1.5-flash`
- Temperature: 0.7
- Max Tokens: 4096

**í™˜ê²½ ë³€ìˆ˜:**
```bash
GEMINI_API_KEY=your_api_key_here
```

### 7.2 í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§

**ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸:**
```
ë‹¹ì‹ ì€ í•œêµ­ì˜ ì…ì‹œ ì „ë¬¸ êµìœ¡ ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤.
í•™ìƒì˜ ì‹œí—˜ ê²°ê³¼ë¥¼ ë¶„ì„í•˜ê³  ê°œì¸í™”ëœ í•™ìŠµ ì „ëµì„ ì œê³µí•©ë‹ˆë‹¤.
ë¶„ì„ì€ êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•˜ë©°, í•™ìƒì—ê²Œ ë™ê¸°ë¥¼ ë¶€ì—¬í•´ì•¼ í•©ë‹ˆë‹¤.
```

**ë¶„ì„ ìš”ì²­ í”„ë¡¬í”„íŠ¸ êµ¬ì¡°:**
1. í•™ìƒ ì •ë³´ (ì´ë¦„, í•™ë…„, í•™êµ)
2. ì‹œí—˜ ì •ë³´ (ì œëª©, ê³¼ëª©, ì´ì , ì´í‰)
3. ì ìˆ˜ ë° ë“±ê¸‰
4. ë¬¸ì œë³„ ê²°ê³¼ (ì •ë‹µ/ì˜¤ë‹µ, ë‚œì´ë„, ì˜ì—­)
5. ì¶œì œ ê²½í–¥ ë¶„ì„
6. ìš”êµ¬ ì‘ë‹µ í˜•ì‹ (JSON ìŠ¤í‚¤ë§ˆ)

### 7.3 ì‘ë‹µ íŒŒì‹± ë° ê²€ì¦

**Zod ìŠ¤í‚¤ë§ˆ:**
```typescript
const aiAnalysisSchema = z.object({
  subjectAreas: z.array(z.object({
    name: z.string(),
    totalQuestions: z.number(),
    correctAnswers: z.number(),
    percentage: z.number(),
    difficulty: z.record(z.object({
      correct: z.number(),
      total: z.number()
    }))
  })),
  strengths: z.array(z.string()),
  weaknesses: z.array(z.string()),
  errorPatterns: z.array(z.string()),
  studyPlan: z.object({
    immediate: z.array(z.string()),
    shortTerm: z.array(z.string()),
    longTerm: z.array(z.string())
  }),
  learningStrategies: z.array(z.string()),
  summary: z.string()
});
```

**ì˜¤ë¥˜ ì²˜ë¦¬:**
- JSON íŒŒì‹± ì‹¤íŒ¨ â†’ ì¬ì‹œë„ (ìµœëŒ€ 2íšŒ)
- ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì‹¤íŒ¨ â†’ ê¸°ë³¸ê°’ ì‚¬ìš©
- API íƒ€ì„ì•„ì›ƒ (30ì´ˆ) â†’ ì˜¤ë¥˜ ë°˜í™˜

### 7.4 HTML í…œí”Œë¦¿ ì‹œìŠ¤í…œ

**í…œí”Œë¦¿ íŒŒì¼:** `server/report-template.html` (693ì¤„)

**í”Œë ˆì´ìŠ¤í™€ë”:**
```html
<!-- í•™ìƒ ì •ë³´ -->
{{STUDENT_NAME}}
{{STUDENT_GRADE}}
{{STUDENT_SCHOOL}}

<!-- ì‹œí—˜ ì •ë³´ -->
{{EXAM_TITLE}}
{{EXAM_SUBJECT}}
{{EXAM_DATE}}

<!-- ì ìˆ˜ -->
{{SCORE}}
{{MAX_SCORE}}
{{PERCENTAGE}}
{{GRADE}}

<!-- AI ë¶„ì„ -->
{{AREA_ANALYSIS_HTML}}
{{STRENGTHS_HTML}}
{{WEAKNESSES_HTML}}
{{ERROR_PATTERNS_HTML}}
{{ROADMAP_HTML}}
{{LEARNING_STRATEGIES_HTML}}
{{SUMMARY_HTML}}

<!-- Chart.js ë°ì´í„° -->
{{CHART_DATA_JSON}}
```

**HTML ìƒì„± í•¨ìˆ˜:**
```typescript
function buildAreaAnalysisHTML(areas: any[]): string {
  return areas.map(area => `
    <div class="area-card">
      <h3>${escapeHtml(area.name)}</h3>
      <p>ì •ë‹µ: ${area.correctAnswers}/${area.totalQuestions}</p>
      <p>ì •ë‹µë¥ : ${area.percentage}%</p>
    </div>
  `).join('');
}

function buildStrengthsHTML(strengths: string[]): string {
  return `
    <ul>
      ${strengths.map(s => `<li>${escapeHtml(s)}</li>`).join('')}
    </ul>
  `;
}

// ... (ë‚˜ë¨¸ì§€ í—¬í¼ í•¨ìˆ˜)
```

**XSS ë°©ì–´:**
```typescript
function escapeHtml(text: string): string {
  return text
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#039;');
}

function escapeForJson(obj: any): string {
  const json = JSON.stringify(obj);
  return json
    .replace(/</g, '\\u003c')
    .replace(/>/g, '\\u003e')
    .replace(/&/g, '\\u0026')
    .replace(/'/g, '\\u0027')
    .replace(/"/g, '\\u0022');
}
```

### 7.5 Chart.js í†µí•©

**ì°¨íŠ¸ ë°ì´í„° êµ¬ì¡°:**
```javascript
const chartData = {
  areaPerformance: {
    labels: ['ëŒ€ìˆ˜', 'ê¸°í•˜', 'í•¨ìˆ˜', 'í™•ë¥ '],
    data: [85, 70, 90, 65]
  },
  difficultyDistribution: {
    labels: ['í•˜', 'ì¤‘', 'ìƒ', 'ìµœìƒ'],
    data: [10, 15, 15, 5]
  },
  trendLine: {
    labels: ['1ì°¨', '2ì°¨', '3ì°¨', '4ì°¨'],
    data: [75, 80, 85, 82]
  }
};
```

**Chart.js ìŠ¤í¬ë¦½íŠ¸:**
```html
<script>
const chartData = {{CHART_DATA_JSON}};

// ì˜ì—­ë³„ ì„±ê³¼ ì°¨íŠ¸
new Chart(document.getElementById('areaChart'), {
  type: 'bar',
  data: {
    labels: chartData.areaPerformance.labels,
    datasets: [{
      label: 'ì •ë‹µë¥  (%)',
      data: chartData.areaPerformance.data,
      backgroundColor: 'rgba(54, 162, 235, 0.5)'
    }]
  },
  options: {
    responsive: true,
    scales: {
      y: { beginAtZero: true, max: 100 }
    }
  }
});

// ë‚œì´ë„ ë¶„í¬ ì°¨íŠ¸
new Chart(document.getElementById('difficultyChart'), {
  type: 'pie',
  data: {
    labels: chartData.difficultyDistribution.labels,
    datasets: [{
      data: chartData.difficultyDistribution.data,
      backgroundColor: [
        'rgba(75, 192, 192, 0.5)',
        'rgba(255, 206, 86, 0.5)',
        'rgba(255, 99, 132, 0.5)',
        'rgba(153, 102, 255, 0.5)'
      ]
    }]
  }
});

// ì„±ì  ì¶”ì´ ì°¨íŠ¸
new Chart(document.getElementById('trendChart'), {
  type: 'line',
  data: {
    labels: chartData.trendLine.labels,
    datasets: [{
      label: 'ì ìˆ˜',
      data: chartData.trendLine.data,
      borderColor: 'rgba(75, 192, 192, 1)',
      fill: false
    }]
  }
});
</script>
```

---

## 8. Excel ì—…ë¡œë“œ ì‹œìŠ¤í…œ

### 8.1 ë¼ì´ë¸ŒëŸ¬ë¦¬
- **xlsx**: Excel íŒŒì¼ íŒŒì‹±
- **multer**: íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
- **buffer**: ë©”ëª¨ë¦¬ ë‚´ íŒŒì¼ ì²˜ë¦¬

### 8.2 íŒŒì‹± ë¡œì§

```typescript
import * as XLSX from 'xlsx';

async function parseExcel(buffer: Buffer) {
  // 1. Workbook ë¡œë“œ
  const workbook = XLSX.read(buffer, { type: 'buffer' });
  const sheet = workbook.Sheets[workbook.SheetNames[0]];
  
  // 2. ì‹œí—˜ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
  const title = sheet['A1']?.v || 'ì œëª© ì—†ìŒ';
  const subject = sheet['A2']?.v || 'ê³¼ëª© ë¯¸ì •';
  
  // 3. ë¬¸ì œ ë°ì´í„° ì¶”ì¶œ (Row 4~48)
  const questions: any[] = [];
  const seenNumbers = new Set<number>();
  
  for (let row = 4; row <= 48; row++) {
    const questionNumber = sheet[`A${row}`]?.v;
    if (!questionNumber || seenNumbers.has(questionNumber)) {
      continue; // ì¤‘ë³µ ì œê±°
    }
    seenNumbers.add(questionNumber);
    
    questions.push({
      questionNumber,
      difficulty: sheet[`B${row}`]?.v || 'ì¤‘',
      category: sheet[`C${row}`]?.v || '',
      subcategory: sheet[`E${row}`]?.v || '',
      correctAnswer: sheet[`G${row}`]?.v,
      points: sheet[`H${row}`]?.v || 2
    });
  }
  
  // 4. ì¶œì œ ê²½í–¥ ì¶”ì¶œ (Row 50-52)
  const examTrends: any[] = [];
  for (let row = 50; row <= 52; row++) {
    const questionNumbers = sheet[`A${row}`]?.v;
    const description = sheet[`B${row}`]?.v;
    if (questionNumbers && description) {
      examTrends.push({ questionNumbers, description });
    }
  }
  
  // 5. ì´í‰ ì¶”ì¶œ (Row 54)
  const overallReview = sheet['A54']?.v || '';
  
  // 6. ì´ì  ê³„ì‚°
  const totalScore = questions.reduce((sum, q) => sum + q.points, 0);
  
  return {
    title,
    subject,
    totalQuestions: questions.length,
    totalScore,
    questionsData: questions,
    examTrends,
    overallReview
  };
}
```

### 8.3 ê²€ì¦ ê·œì¹™

**í•„ìˆ˜ í•„ë“œ:**
- ì‹œí—˜ ì œëª© (A1)
- ê³¼ëª© (A2)
- ë¬¸ì œ ë²ˆí˜¸ (A4~A48)
- ì •ë‹µ (G4~G48)
- ë°°ì  (H4~H48)

**ì„ íƒ í•„ë“œ:**
- ë‚œì´ë„ (ê¸°ë³¸ê°’: 'ì¤‘')
- ì˜ì—­ (ê¸°ë³¸ê°’: '')
- ì¶œì œ ê²½í–¥ (ê¸°ë³¸ê°’: [])
- ì´í‰ (ê¸°ë³¸ê°’: '')

**ì˜¤ë¥˜ ë©”ì‹œì§€:**
```typescript
if (!title) throw new Error('ì‹œí—˜ ì œëª©ì´ ì—†ìŠµë‹ˆë‹¤.');
if (questions.length === 0) throw new Error('ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.');
if (totalScore < 1) throw new Error('ì´ì ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
```

---

## 9. ë³´ì•ˆ ë° ì¸ì¦

### 9.1 ë¹„ë°€ë²ˆí˜¸ ë³´ì•ˆ
- **í•´ì‹± ì•Œê³ ë¦¬ì¦˜**: bcrypt
- **Salt Rounds**: 10
- **ì €ì¥ í˜•ì‹**: `$2b$10$...`

**ë¹„ë°€ë²ˆí˜¸ ìƒì„±:**
```typescript
import bcrypt from 'bcryptjs';

const passwordHash = await bcrypt.hash(password, 10);
```

**ë¹„ë°€ë²ˆí˜¸ ê²€ì¦:**
```typescript
const isValid = await bcrypt.compare(password, user.passwordHash);
```

### 9.2 ì„¸ì…˜ ê´€ë¦¬
- **ì €ì¥ì†Œ**: PostgreSQL (connect-pg-simple)
- **ì¿ í‚¤ ì´ë¦„**: `connect.sid`
- **ë§Œë£Œ ì‹œê°„**: 24ì‹œê°„
- **ë³´ì•ˆ ì˜µì…˜**:
  - httpOnly: true
  - secure: production only
  - sameSite: 'lax'

**ì„¸ì…˜ êµ¬ì¡°:**
```typescript
interface Session {
  userId: string;
  user: {
    id: string;
    username: string;
    name: string;
    role: 'admin' | 'branch' | 'student' | 'parent';
    branchId?: string;
  };
}
```

### 9.3 ê¶Œí•œ ê²€ì¦ ë¯¸ë“¤ì›¨ì–´

```typescript
const requireAuth = (req, res, next) => {
  if (!req.session?.user) {
    return res.status(401).json({ 
      message: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' 
    });
  }
  next();
};

const requireAdmin = (req, res, next) => {
  if (req.session?.user?.role !== 'admin') {
    return res.status(403).json({ 
      message: 'ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.' 
    });
  }
  next();
};

const requireBranchManager = (req, res, next) => {
  if (req.session?.user?.role !== 'branch') {
    return res.status(403).json({ 
      message: 'ì§€ì  ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.' 
    });
  }
  next();
};

const requireStudent = (req, res, next) => {
  if (req.session?.user?.role !== 'student') {
    return res.status(403).json({ 
      message: 'í•™ìƒ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.' 
    });
  }
  next();
};
```

### 9.4 XSS ë°©ì–´

**HTML Escaping:**
```typescript
function escapeHtml(text: string): string {
  return text
    .replace(/&/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;')
    .replace(/'/g, '&#039;');
}
```

**JSON Escaping (Chart.js):**
```typescript
function escapeForJson(obj: any): string {
  const json = JSON.stringify(obj);
  return json
    .replace(/</g, '\\u003c')
    .replace(/>/g, '\\u003e')
    .replace(/&/g, '\\u0026')
    .replace(/'/g, '\\u0027')
    .replace(/"/g, '\\u0022');
}
```

**ì ìš© ìœ„ì¹˜:**
- AI ë³´ê³ ì„œ HTML ìƒì„± (7ê°œ í—¬í¼ í•¨ìˆ˜)
- Chart.js ë°ì´í„° ì£¼ì…
- ì‚¬ìš©ì ì…ë ¥ í‘œì‹œ (ì´ë¦„, ì œëª© ë“±)

### 9.5 SQL Injection ë°©ì–´
- Drizzle ORM ì‚¬ìš© (íŒŒë¼ë¯¸í„°í™”ëœ ì¿¼ë¦¬)
- ì›ì‹œ SQL ê¸ˆì§€
- Zod ìŠ¤í‚¤ë§ˆ ê²€ì¦

**ì•ˆì „í•œ ì¿¼ë¦¬ ì˜ˆì‹œ:**
```typescript
// âœ… ì•ˆì „ (Drizzle ORM)
await db.select()
  .from(users)
  .where(eq(users.username, username))
  .limit(1);

// âŒ ìœ„í—˜ (ì›ì‹œ SQL)
await db.execute(sql`
  SELECT * FROM users 
  WHERE username = '${username}'
`);
```

### 9.6 CSRF ë°©ì–´
- ë™ì¼ ì¶œì²˜ ì •ì±… (Same-Origin)
- credentials: 'include' (í”„ë¡ íŠ¸ì—”ë“œ fetch)
- sameSite: 'lax' (ì¿ í‚¤ ì„¤ì •)

### 9.7 ë°ì´í„° ê²©ë¦¬

**ì§€ì  ê´€ë¦¬ì:**
```typescript
// ë³¸ì¸ ì§€ì  í•™ìƒë§Œ ì¡°íšŒ
const branchManager = await storage.getBranchManager(userId);
const students = await storage.getStudentsByBranch(branchManager.branchId);
```

**í•™ìƒ:**
```typescript
// ë³¸ì¸ ì‘ì‹œ ê¸°ë¡ë§Œ ì¡°íšŒ
const student = await storage.getStudentByUserId(userId);
const attempts = await storage.getAttemptsByStudent(student.id);
```

**í•™ë¶€ëª¨:**
```typescript
// ìë…€ ì •ë³´ë§Œ ì¡°íšŒ
const parent = await storage.getParentByUserId(userId);
const children = await storage.getStudentsByParent(parent.id);
```

---

## 10. ê¸°ìˆ  ìŠ¤íƒ

### 10.1 í”„ë¡ íŠ¸ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React | 18.x | UI í”„ë ˆì„ì›Œí¬ |
| TypeScript | 5.x | íƒ€ì… ì•ˆì „ì„± |
| Wouter | 2.x | ê²½ëŸ‰ ë¼ìš°íŒ… |
| TanStack Query | 5.x | ì„œë²„ ìƒíƒœ ê´€ë¦¬ |
| Shadcn/ui | Latest | UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| Radix UI | Latest | ì ‘ê·¼ì„± í”„ë¦¬ë¯¸í‹°ë¸Œ |
| Tailwind CSS | 3.x | ìœ í‹¸ë¦¬í‹° CSS |
| Chart.js | 4.x | ë°ì´í„° ì‹œê°í™” |
| Lucide React | Latest | ì•„ì´ì½˜ |
| React Hook Form | 7.x | í¼ ê´€ë¦¬ |
| Zod | 3.x | ìŠ¤í‚¤ë§ˆ ê²€ì¦ |
| date-fns | 2.x | ë‚ ì§œ ì²˜ë¦¬ |

### 10.2 ë°±ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Node.js | 20.x | ëŸ°íƒ€ì„ |
| Express.js | 4.x | ì›¹ í”„ë ˆì„ì›Œí¬ |
| TypeScript | 5.x | íƒ€ì… ì•ˆì „ì„± |
| PostgreSQL | 15.x | ë°ì´í„°ë² ì´ìŠ¤ |
| Drizzle ORM | Latest | ORM |
| bcryptjs | 2.x | ë¹„ë°€ë²ˆí˜¸ í•´ì‹± |
| express-session | 1.x | ì„¸ì…˜ ê´€ë¦¬ |
| connect-pg-simple | 9.x | ì„¸ì…˜ ì €ì¥ì†Œ |
| multer | 1.x | íŒŒì¼ ì—…ë¡œë“œ |
| xlsx | 0.18.x | Excel íŒŒì‹± |
| @google/generative-ai | Latest | Gemini API |
| Zod | 3.x | ìŠ¤í‚¤ë§ˆ ê²€ì¦ |

### 10.3 ê°œë°œ ë„êµ¬

| ë„êµ¬ | ìš©ë„ |
|------|------|
| Vite | ê°œë°œ ì„œë²„ ë° ë¹Œë“œ |
| ESBuild | ë¹ ë¥¸ ë²ˆë“¤ë§ |
| Drizzle Kit | DB ë§ˆì´ê·¸ë ˆì´ì…˜ |
| tsx | TypeScript ì‹¤í–‰ |
| Playwright | E2E í…ŒìŠ¤íŒ… |

### 10.4 ì¸í”„ë¼

| ì„œë¹„ìŠ¤ | ìš©ë„ |
|--------|------|
| Neon | PostgreSQL í˜¸ìŠ¤íŒ… |
| Replit | ê°œë°œ í™˜ê²½ |
| Google Gemini | AI ë¶„ì„ |

### 10.5 ë””ìì¸ ì‹œìŠ¤í…œ

**íƒ€ì´í¬ê·¸ë˜í”¼:**
- í•œê¸€: Noto Sans KR
- ì˜ë¬¸: Inter
- ì½”ë“œ: JetBrains Mono

**ìƒ‰ìƒ íŒ”ë ˆíŠ¸:**
```css
:root {
  --primary: 210 100% 50%;        /* ë¸”ë£¨ */
  --secondary: 210 40% 96.1%;     /* ë¼ì´íŠ¸ ë¸”ë£¨ */
  --accent: 210 100% 60%;         /* ë°ì€ ë¸”ë£¨ */
  --destructive: 0 84.2% 60.2%;   /* ë ˆë“œ */
  --success: 142 76% 36%;         /* ê·¸ë¦° */
  --warning: 38 92% 50%;          /* ì˜ë¡œìš° */
  
  --background: 0 0% 100%;        /* í™”ì´íŠ¸ */
  --foreground: 222.2 84% 4.9%;   /* ë‹¤í¬ ê·¸ë ˆì´ */
  --card: 0 0% 100%;              /* í™”ì´íŠ¸ */
  --border: 214.3 31.8% 91.4%;    /* ë¼ì´íŠ¸ ê·¸ë ˆì´ */
  --muted: 210 40% 96.1%;         /* ë§¤ìš° ë°ì€ ë¸”ë£¨ */
}

.dark {
  --background: 222.2 84% 4.9%;   /* ë‹¤í¬ */
  --foreground: 210 40% 98%;      /* ë°ì€ ê·¸ë ˆì´ */
  --card: 222.2 84% 4.9%;         /* ë‹¤í¬ */
  --border: 217.2 32.6% 17.5%;    /* ë‹¤í¬ ê·¸ë ˆì´ */
  --muted: 217.2 32.6% 17.5%;     /* ë‹¤í¬ ê·¸ë ˆì´ */
}
```

**ë¸Œë ˆì´í¬í¬ì¸íŠ¸:**
- sm: 640px
- md: 768px
- lg: 1024px
- xl: 1280px
- 2xl: 1536px

---

## 11. ë¶€ë¡

### 11.1 ë“±ê¸‰ ì‚°ì¶œ ê¸°ì¤€

| ë“±ê¸‰ | ë°±ë¶„ìœ¨ ë²”ìœ„ | ì„¤ëª… |
|------|------------|------|
| 1ë“±ê¸‰ | 96% ì´ìƒ | ìµœìƒìœ„ |
| 2ë“±ê¸‰ | 89% - 95% | ìƒìœ„ |
| 3ë“±ê¸‰ | 77% - 88% | ì¤‘ìƒìœ„ |
| 4ë“±ê¸‰ | 60% - 76% | ì¤‘ìœ„ |
| 5ë“±ê¸‰ | 40% - 59% | ì¤‘í•˜ìœ„ |
| 6ë“±ê¸‰ | 25% - 39% | í•˜ìœ„ |
| 7ë“±ê¸‰ | 15% - 24% | í•˜í•˜ìœ„ |
| 8ë“±ê¸‰ | 8% - 14% | ìµœí•˜ìœ„ |
| 9ë“±ê¸‰ | 7% ì´í•˜ | ë§¤ìš° ë‚®ìŒ |

### 11.2 í•™ë…„ ì½”ë“œ

| ì½”ë“œ | í•™ë…„ |
|------|------|
| ì¤‘1 | ì¤‘í•™êµ 1í•™ë…„ |
| ì¤‘2 | ì¤‘í•™êµ 2í•™ë…„ |
| ì¤‘3 | ì¤‘í•™êµ 3í•™ë…„ |
| ê³ 1 | ê³ ë“±í•™êµ 1í•™ë…„ |
| ê³ 2 | ê³ ë“±í•™êµ 2í•™ë…„ |
| ê³ 3 | ê³ ë“±í•™êµ 3í•™ë…„ |

### 11.3 ê³¼ëª© ì½”ë“œ

- êµ­ì–´
- ìˆ˜í•™
- ì˜ì–´
- í•œêµ­ì‚¬
- ì‚¬íšŒíƒêµ¬ (í•œêµ­ì§€ë¦¬, ì„¸ê³„ì§€ë¦¬, ë™ì•„ì‹œì•„ì‚¬, ì„¸ê³„ì‚¬, ê²½ì œ, ì •ì¹˜ì™€ ë²•, ì‚¬íšŒë¬¸í™”, ìƒí™œê³¼ ìœ¤ë¦¬, ìœ¤ë¦¬ì™€ ì‚¬ìƒ)
- ê³¼í•™íƒêµ¬ (ë¬¼ë¦¬í•™â… , í™”í•™â… , ìƒëª…ê³¼í•™â… , ì§€êµ¬ê³¼í•™â… , ë¬¼ë¦¬í•™â…¡, í™”í•™â…¡, ìƒëª…ê³¼í•™â…¡, ì§€êµ¬ê³¼í•™â…¡)

### 11.4 ë‚œì´ë„ ë¶„ë¥˜

| ë‚œì´ë„ | ì„¤ëª… | ì •ë‹µë¥  ëª©í‘œ |
|--------|------|-------------|
| í•˜ | ê¸°ì´ˆ | 80% ì´ìƒ |
| ì¤‘ | í‘œì¤€ | 60-80% |
| ìƒ | ì‹¬í™” | 40-60% |
| ìµœìƒ | ë³€ë³„ë ¥ | 40% ì´í•˜ |

### 11.5 í…ŒìŠ¤íŠ¸ ê³„ì •

| ì—­í•  | Username | Password | ì§€ì  |
|------|----------|----------|------|
| ê´€ë¦¬ì | allga | allga | - |
| ì§€ì  ê´€ë¦¬ì | allga1 | allga1 | ê°•ë‚¨ì  |
| í•™ìƒ | kim_minsu | password123 | ê°•ë‚¨ì  |
| í•™ë¶€ëª¨ | parent_kim | parent123 | ê°•ë‚¨ì  |

### 11.6 API ì‘ë‹µ ì½”ë“œ

| ì½”ë“œ | ì˜ë¯¸ | ì‚¬ìš© ì˜ˆì‹œ |
|------|------|----------|
| 200 | ì„±ê³µ | GET ìš”ì²­ ì„±ê³µ |
| 201 | ìƒì„±ë¨ | POST ìš”ì²­ ì„±ê³µ |
| 400 | ì˜ëª»ëœ ìš”ì²­ | ê²€ì¦ ì˜¤ë¥˜ |
| 401 | ì¸ì¦ í•„ìš” | ë¡œê·¸ì¸ ì•ˆ ë¨ |
| 403 | ê¶Œí•œ ì—†ìŒ | ì—­í•  ë¶ˆì¼ì¹˜ |
| 404 | ì°¾ì„ ìˆ˜ ì—†ìŒ | ë¦¬ì†ŒìŠ¤ ì—†ìŒ |
| 500 | ì„œë²„ ì˜¤ë¥˜ | ë‚´ë¶€ ì˜¤ë¥˜ |

### 11.7 í™˜ê²½ ë³€ìˆ˜

```bash
# ë°ì´í„°ë² ì´ìŠ¤
DATABASE_URL=postgresql://...

# Gemini API
GEMINI_API_KEY=your_key_here

# ì„¸ì…˜
SESSION_SECRET=random_secret_string

# ì„œë²„
PORT=5000
NODE_ENV=production
```

---

## 12. ë³€ê²½ ì´ë ¥

### v1.0 (2025-10-17)
- âœ… ì´ˆê¸° ì‹œìŠ¤í…œ êµ¬ì¶•
- âœ… 4ë‹¨ê³„ ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´
- âœ… Excel ê¸°ë°˜ ì‹œí—˜ ì—…ë¡œë“œ
- âœ… ì‹œí—˜ ë°°í¬ ì‹œìŠ¤í…œ
- âœ… ìë™ ì±„ì  ë° ë“±ê¸‰ ì‚°ì¶œ
- âœ… AI ë¶„ì„ ë³´ê³ ì„œ ìƒì„± (Gemini API)
- âœ… XSS ë°©ì–´ ì™„ë£Œ
- âœ… ì§€ì  ê´€ë¦¬ì Impersonation
- âœ… í•™ìƒ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
- âœ… ê´€ë¦¬ì ë‹¤ì¤‘ ì§€ì  ë°°í¬
- âœ… í•™ë…„ í•„í„° ê¸°ëŠ¥
- âœ… ì§€ì  í†µê³„ ê²€ìƒ‰

---

**ë¬¸ì„œ ë²„ì „:** 1.0  
**ìµœì¢… ìˆ˜ì •ì¼:** 2025-10-30  
**ì‘ì„±ì:** OLGA Academy Management System Development Team  
**ìŠ¹ì¸:** âœ… Architecture Review Complete
